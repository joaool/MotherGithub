{"version":3,"sources":["flClient.js"],"names":[],"mappings":"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","file":"flClient-compiled.js","sourcesContent":["/* \r\n    FrameLink client library\r\n\r\nDocumentation\r\n    Implement frameLink API for client application\r\n    this version supports only async calls\r\n\r\n    The lib can be traced. it use the FLTRACE env. variable, as fltools.js\r\n    you can also call flMain.changeTraceLevel(newTrace) to control the tracing\r\n    for a specific (set of) call.\r\n    specific client tracing:\r\n        traceFlag=128 => dump args\r\n        traceFlag= 2 => Trace API call, returns form the server\r\n        traceFlag= 32 => Trace network traffic. use with a pipe to bunyan\r\n        the trace is sent to the console, and to a log file (../log/<apps name>.log)\r\n            you can format the display of the log file with bunyan with the command:\r\n                bunyan file.log\r\n\r\nversion 0.9 : Nicolas Cuvillier\r\n    - first alpha release\r\n\r\nTODO\r\n\r\n*/\r\n//sysParam 0:Entity, 1: Field, 2: Relation\r\n//  [0]: Mandatory fields for insert \r\n//  [1]: Updatable fields\r\n//  [2]: Special validation function ['fCN']: function(value){ if (value == good) return true; else return false;}\r\n//\r\n\r\n\r\n(function() {\r\n    // privates\r\n\r\n    var sysParam=[\r\n        //entity\r\n        [\r\n            // mandatory fields for insert, with minimum count\r\n            {'3':1, '4':1, 'E':1},\r\n            // updatable -1 means forgot everything in the array\r\n            {'3':0, '4':0, 'E':0},\r\n            // default projection\r\n            {'_id':1, '3':1, '4':1, 'E':1}  // also used in entity.js\r\n        ],\r\n        [\r\n            // mandatory fields for insert, with minimum count\r\n            {'1':1, '3':1, '4':1, 'K':1, 'M':1, '9':1},\r\n            // updatable -1 means forgot everything in the array\r\n            {'3':0, '4':0, 'K':0, 'M':0, 'N':0, 'O':1, '9':0, 'P':0},  // optionsname has to be added here\r\n            // default projection\r\n            {'_id':1, '1':1, '3':1, '4':1, 'K':1, 'M':1, 'N':1, 'O':1, '9':1, 'P':1}  // also used in entity.js\r\n        ],\r\n        [\r\n            // mandatory fields for insert, with minimum count\r\n            {'00':1, 'U':2, 'V':2, 'W':2, 'Y':2, 'Z':2},\r\n            // updatable -1 means forgot everything in the array\r\n            {'00':1, 'U':0, 'V':2, 'W':2, 'X':2, 'Y':2, 'Z':2, '01':1, 'option':1},\r\n            // default projection\r\n            {'_id':1, '00.U':1, '00,Z':1, '00.V':1, '00.W':1, '00.Y':1, '01':1}  // also used in entity.js\r\n        ]\r\n    ];\r\n    var axCall =function(protocol, srv, port, path, jsonData, callBack, trace){\r\n        throw new Error(\"callAjax is not set\");\r\n    }\r\n    var tabCodec=[{1: 'OK'}];\r\n    var urlMainProt='http:';\r\n    var urlMainSrv='framelink.co';\r\n    //urlMainSrv='localhost';\r\n    var urlMainPort =8123; // port\r\n\r\n    var urlAbeProt;\r\n    var urlAbeSrv;\r\n    var urlAbePort;\r\n\r\n    var flTraceClient=0;  // same values as flTools.trace\r\n    var flTraceSession=-1;\r\n    var flTraceServer=-1;  // same values as flTools.trace\r\n\r\n    var strTraceTxt=\"\";\r\n    var bResetTraceTxt=true;\r\n    //////////\r\n    // flMain\r\n    //////////\r\n    var flMain = (function() {\r\n        flTraceClient=0;\r\n\r\n        var flMain = function(ax) {\r\n            if (typeof callAjax == 'function'){\r\n                //console.log(\"Using global callAjax\");\r\n                axCall = callAjax;\r\n            }\r\n            else{\r\n                if (typeof ax == 'function'){\r\n                    //console.log(\"Installing specific callAjax\");\r\n                    axCall = ax;\r\n                }\r\n                else\r\n                    throw new Error(\"flMain: bad argument-callAjax is not defined\");\r\n            }\r\n        }\r\n        // utility API\r\n        flMain.prototype.pingMe = function (){\r\n            return true;\r\n        }\r\n        flMain.prototype.getsId = function (){\r\n            return axCall(null, null, null, 'getsId', { }, false, null, 0, null);\r\n        }\r\n\r\n        flMain.prototype.serverName = function (srvName){\r\n            urlMainSrv=srvName;\r\n        }\r\n        function resetTraceValue(traceVal)\r\n        {   if (traceVal <0)\r\n                return -1;\r\n            if (traceVal > 65535)\r\n                return 65535;\r\n            return traceVal;\r\n        }\r\n        flMain.prototype.setTraceClient = function (newTrace){\r\n            flTraceClient = resetTraceValue(newTrace);\r\n        }\r\n        flMain.prototype.flushTraceClient = function (){\r\n            bResetTraceTxt=true;\r\n            return strTraceTxt;\r\n        }\r\n        flMain.prototype.setTraceServer = function (newTrace){\r\n            flTraceServer = resetTraceValue(newTrace);\r\n        }\r\n        flMain.prototype.setTraceSession = function (newTrace){\r\n            flTraceSession = resetTraceValue(newTrace);\r\n        }\r\n        // Login\r\n        flMain.prototype.login = function(j, callBack){\r\n            if (j.username == undefined || j.password == undefined){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            var superJ=j;\r\n            function myCallBack(err, data){\r\n                //console.log ('in fl.login.callback !');\r\n                if (err)\r\n                    return callBack(err, null);\r\n         \r\n                data.user=undefined;\r\n                return callBack(null, data)\r\n            }\r\n            //console.log('going to '+urlMainSrv);\r\n            sendCommand(1, 'fl/login', \"-1\", superJ, {}, myCallBack);\r\n        }\r\n        // User API\r\n        flMain.prototype.getSessionInfo = function(callBack){\r\n            if (!checkParam(callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            function myCallBack(err, data){\r\n                data.u1 = urlAbeProt;\r\n                data.u2 = urlAbeSrv;\r\n                data.u3 = urlAbePort;\r\n                data.u4= flTraceClient;\r\n                return callBack(err, data);\r\n            }\r\n            sendCommand(1, 'session/get', null, { }, {}, myCallBack);\r\n        }\r\n        // User API\r\n        flMain.prototype.setSessionInfo = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.data1, jsonData.data2, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            urlAbeProt = data.u1;\r\n            urlAbeSrv = data.u2;\r\n            urlAbePort = data.u3;\r\n            flTraceClient = data.u4;\r\n\r\n            sendCommand(1, 'session/set', null, jsonData, {}, callBack);\r\n        }\r\n \r\n        // User API\r\n        flMain.prototype.userCreate = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.userName, jsonData.userPassWord, jsonData.adminName, jsonData.adminPassWord, jsonData.userType, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'userCreate', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/userCreate', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.userChangePassWord = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.userName, jsonData.userPassWord, jsonData.adminName, jsonData.adminPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'userChagePassWord', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/userChangePassWord', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.userChangeName = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.userName, jsonData.userPassWord, jsonData.newName, jsonData.newPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'userChangeName', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/userChangeName', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.userChangeType = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.userName, jsonData.userPassWord, jsonData.adminName, jsonData.adminPassWord, jsonData.userType, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'userChangeType', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/userChangeType', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.promoteAsClientAdmin = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.userName, jsonData.userPassWord, jsonData.adminName, jsonData.adminPassWord, jsonData.newClientName, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'promoteAsClientAdmin', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/promoteAsClientAdmin', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.userRemove = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.userName, jsonData.adminName, jsonData.adminPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'userRemove', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/userRemove', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.isUserExist = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.userName, jsonData.adminName, jsonData.adminPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'isUserExist', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/isUserExist', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.userGetList = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.adminName, jsonData.adminPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'userGetList', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/userGetList', \"06\", jsonData, {}, callBack);\r\n        }\r\n        //  CLIENT APIs\r\n        flMain.prototype.clientCreate = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.clientName, jsonData.adminName, jsonData.adminPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'clientCreate', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/clientCreate', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.clientChangeName = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.clientName, json.newClientName, jsonData.adminName, jsonData.adminPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'clientChangeName', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/clientChangeName', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.clientRemove = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.clientName, jsonData.adminName, jsonData.adminPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'clientRemove', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/clientRemove', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.clientGetList = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.adminName, jsonData.adminPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'clientGetList', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/clientGetList', \"06\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.applicationFullCreate = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.adminName, jsonData.adminPassWord, callBack)){\r\n                callBack('Bad parameter', null);\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fa', 'applicationFullCreate', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/applicationFullCreate', \"-1\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.applicationFinalize = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.adminName, jsonData.adminPassWord, jsonData.userName, jsonData.clientName, jsonData.domainName, \r\n                  jsonData.newUserName, jsonData.newClientName, jsonData.newDescription, callBack)){\r\n                callBack('Bad parameter', null);\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fa', 'applicationfinalizeApp', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/applicationfinalizeApp', \"-1\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.applicationCreate = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.adminName, jsonData.adminPassWord, jsonData.domainPrefix, jsonData.description, \r\n                            callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fa', 'applicationCreate', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/applicationCreate', \"-1\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.applicationRemove = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.adminName, jsonData.adminPassWord, jsonData.domain, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fa', 'applicationRemove', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/applicationRemove', \"-1\", jsonData, {}, callBack);\r\n        } \r\n        flMain.prototype.applicationGetNextDomainName = function(jsonData, callBack){\r\n            if (!checkParam(jsonData.domainPrefix, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fl', 'applicationGetNextDomainName', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/applicationGetNextDomainName', \"-1\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.applicationGrantAccess = function(jsonData, callBack){\r\n            //console.dir(jsonData);\r\n            if (!checkParam(jsonData.domainName, jsonData.adminName, jsonData.adminPassWord, \r\n                            jsonData.userName, jsonData.accessLevel, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fa', 'applicationGrantAccess', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/applicationGrantAccess', \"-1\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.applicationChangeDomainName = function(jsonData, callBack){\r\n            //console.dir(jsonData);\r\n            if (!checkParam(jsonData.domainName, jsonData.adminName, jsonData.adminPassWord, \r\n                            jsonData.newDomainName, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fa', 'applicationChangeDomainName', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/applicationChangeDomainName', \"-1\", jsonData, {}, callBack);\r\n        }\r\n        flMain.prototype.applicationChangeDescription = function(jsonData, callBack){\r\n            //console.dir(jsonData);\r\n            if (!checkParam(jsonData.domainName, jsonData.adminName, jsonData.adminPassWord, \r\n                            jsonData.newDescription, callBack)){\r\n                callBack('Bad parameter', null);\r\n                return;\r\n            }\r\n            if (isFlagged(4))\r\n                generateFunction('fa', 'applicationChangeDescription', undefined, JSON.stringify(jsonData));\r\n            sendCommand(1, 'fl/applicationChangeDescription', \"-1\", jsonData, {}, callBack);\r\n        }\r\n\r\n    ///////////\r\n    // appS\r\n    //////////\r\n        flMain.prototype.app = (function() {\r\n            var app = function(){\r\n            }\r\n            app.prototype.logMessage = function (message, callback){\r\n                var j={message: message};\r\n                sendApiSrv(\"application/message\", j, callback);\r\n            }\r\n            app.prototype.connect = function(j, callBack){\r\n                //console.log(\"=> app.connect trace: \" + flTraceClient);\r\n                var self = this;\r\n                if (checkParam(j.apiPort, j.apiServer, j.storeServer, j.storePort, j.dbName, j.secret, j.apiProtocol, callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n\r\n                urlAbeProt=j.apiProtocol;\r\n                urlAbeSrv= j.apiServer;\r\n                urlAbePort=j.apiPort;\r\n                //console.log(\"...\" +\"app.connect: url saved: \" + urlAbeProt+'//' + urlAbeSrv+':' + urlAbePort);\r\n\r\n                function appConnectCB (err, dataConnect){\r\n                    tabCodec=[{'_id':'_id'}];\r\n                    if (err){\r\n                        //console.dir(err);\r\n                        return callBack(err, null);\r\n                    }\r\n                    callBack(null, dataConnect);\r\n                };\r\n                sendApiSrv(\"application/connect\", j, appConnectCB.bind(this));\r\n            }\r\n            app.prototype.init = function(initData, callBack){\r\n                if (checkParam(callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n\r\n                if (checkParam(initData, initData.application, initData.adminId, callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n                sendApiSrv(\"flApp/zinit\", initData, callBack);\r\n            }\r\n            app.prototype.grantAccess = function(grantData, callBack){\r\n                if (checkParam(grantData.userId, grantData.accessLevel, callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n\r\n                sendApiSrv(\"flApp/zrantAccess\", grantData, callBack);\r\n            }\r\n            app.prototype.remove = function(removeData, callBack){\r\n                if (checkParam(callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n\r\n                if (checkParam(removeData, removeData.domain, removeData.hash, removeData.date, callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n                sendApiSrv(\"flApp/zremove\", removeData, callBack);\r\n            }\r\n            app.prototype.setMenuLevel = function(menuLevelData, callBack){\r\n                if (checkParam(callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n\r\n                if (checkParam(menuLevelData, menuLevelData['0D'], menuLevelData['0E'], callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n                sendApiSrv(\"application/setmenulevel\", menuLevelData, callBack);\r\n            }\r\n            app.prototype.setLoginRestriction = function(loginRestricData, callBack){\r\n                if (checkParam(callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n\r\n                if (checkParam(loginRestricData, loginRestricData['1'], loginRestricData['0D'], loginRestricData['0E'], callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n                sendApiSrv(\"application/setloginrestriction\", loginRestricData, callBack);\r\n            }\r\n            app.prototype.disconnect = function(callBack){\r\n                if(strTraceTxt.length >0)\r\n                    console.log(strTraceTxt);\r\n                strTraceTxt=\"\";\r\n                ////console.log(\"=> app.connect\");\r\n                if (checkParam(callBack) == false)\r\n                    return callBack('bad parameters', null);\r\n\r\n                sendApiSrv(\"application/disconnect\", { }, callBack);\r\n            }\r\n            return app;\r\n        })();\r\n        //////////\r\n        // data\r\n        //////////\r\n        flMain.prototype.data=(function(){\r\n            var data = function() {\r\n            }\r\n            /*\r\n            for all:\r\n            options.noPrefix:true : do not prefix the compressed name\r\n\r\n            for getxxx:\r\n            options.query={-id: xyz} => query clause valid for mongo\r\n            options.projection={field:0/1,... _id:0} : list of fields to return valid for mongo\r\n            options.system=true: include system dictionary (for master_0 request)\r\n\r\n            for getOne:\r\n            options.relations {info:0/1/2, relations:[rel1, rel2]}\r\n\r\n            for getAll:\r\n            options.limit:xx => limit to xx documents\r\n            options.sort {field:-1/1, field:-1/1,...}\r\n            option.skip {s:yy} => skip yy first documents\r\n            options.relations {info:0/1/2, relations:[rel1, rel2]}\r\n\r\n            for count:\r\n            options.skip: Number, The number of documents to skip for the count.  \r\n\r\n            for update:\r\n            ..:true update more than 1 document\r\n\r\n            for find and update:\r\n            options.options: {\r\n                remove:true set to a true to remove the object before returning\r\n                new:true set to true if you want to return the modified object rather than the original. Ignored for remove.\r\n                upsert:true Atomically inserts the document if no documents matched.\r\n            }\r\n            */\r\n            data.prototype.insert = function(eCN, d, callBack){\r\n                if( (d.length == undefined && checkParamOnly(d.d, \"StopHere\") == false) || (d.length == 0)){\r\n                    if (isFlagged(4))\r\n                        console.log('// fd.insert(\"'+eCN+'\", ' + JSON.stringify(d) + ');        // *** INVALID PARAMETERS ***');\r\n                        throw new Error (\"Invalid parameters\");\r\n                }\r\n                if (isFlagged(4))\r\n                    generateFunction('fd', 'insert', eCN, JSON.stringify(d));\r\n                sendCommand(2, 'data/insert', eCN, d, {}, callBack);\r\n            }\r\n            data.prototype.findOne = function(eCN, options, callBack){\r\n                if (checkParamOnly(options.query, \"StopHere\") == false)\r\n                    throw new Error (\"Invalid parameters\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fd', 'findOne', eCN, JSON.stringify(options));\r\n                sendCommand(2, 'data/findOne', eCN, options, callBack);\r\n            }\r\n            data.prototype.findAll = function(eCN, options, callBack){\r\n                if (checkParamOnly(options.query, \"StopHere\") == false)\r\n                    throw new Error (\"Invalid parameters\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fd', 'findAll', eCN, JSON.stringify(options));\r\n                sendCommand(2, 'data/findAll', eCN, options, callBack);\r\n            }\r\n            data.prototype.update = function(eCN, options, callBack){\r\n                if (checkParamOnly(options.update, options.query, \"StopHere\") == false)\r\n                    throw new Error (\"Invalid parameters\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fd', 'update', eCN, JSON.stringify(options));\r\n                sendCommand(2, 'data/update', eCN, options, callBack);\r\n            }\r\n            data.prototype.findAndModify = function(eCN, options, callBack){\r\n                if (checkParamOnly(options, \"StopHere\") == false)\r\n                    throw new Error (\"Invalid parameters\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fd', 'findAndModify', eCN, JSON.stringify(options));\r\n                sendCommand(2, 'data/findandmodify', eCN, options, callBack);\r\n            }\r\n            data.prototype.remove = function(eCN, options, callBack){\r\n                if (checkParamOnly(options.query, \"StopHere\") == false)\r\n                    throw new Error (\"Invalid parameters\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fd', 'remove', eCN, JSON.stringify(options));\r\n                sendCommand(2, 'data/remove', eCN, options, callBack);\r\n            }\r\n            data.prototype.count = function(eCN, options, callBack){\r\n                if (typeof options == 'function'){\r\n                    callBack = options;\r\n                    options={};\r\n                }\r\n                if (isFlagged(4))\r\n                    generateFunction('fd', 'count', eCN, JSON.stringify(options));\r\n                sendCommand(2, 'data/count', eCN, options, callBack);\r\n            }\r\n            return data;\r\n        })();\r\n\r\n\r\n        //////////\r\n        // Entity\r\n        //  Internal:\r\n        //  { _id: eCN, \"1\":-1, \"2\":\"E\", \"3\": singulier, \"4\": description,\r\n        //              \"A\":[{'B':'idxName', 'C':{fCN1:1, fCN2:-1}, 'D':[{'unique':true},..]}], \r\n        //              \"E\": pluriel, \"F\":[fCN1, fCN2,...], \"H\": 1.01, I: 0, 'J':0, 'T':1, \"G\": \"50\", I: 0 };\r\n        //      \"G\",\"I\" are only for Master_0\r\n        //////////\r\n        flMain.prototype.entity=(function(){\r\n            var entity = function() {\r\n            }\r\n            // API going to the server\r\n            // data=\r\n            entity.prototype.add = function(data, callBack){\r\n                if (miniFieldIncluded(0, data) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                data['2']='E';\r\n                if (isFlagged(4))\r\n                        generateFunction('fEnt', 'add', null, JSON.stringify(data));                        \r\n                sendCommand(2, 'data/insert', \"0\", {d: data}, { }, callBack);\r\n            }\r\n            entity.prototype.addWithFields = function(data, callBack){\r\n                if (!checkEntityWithFields(data))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                if (isFlagged(4))\r\n                    generateFunction('fEnt', 'addWithField', null, JSON.stringify(data));\r\n                sendCommand(2, 'entity/addWithField', \"0\", { }, data, callBack);\r\n            }\r\n            // iNet should be like: {\"query\":{\"_id\":eCN}, projection:{}}\r\n            entity.prototype.getOne = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'E'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fEnt', 'getOne', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                if (options.projection == undefined)\r\n                    options.projection = getDefaultProjection(0);\r\n                sendCommand(2, 'data/findOne', \"0\", { }, options, callBack);\r\n            }\r\n            entity.prototype.getAll = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'E'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fEnt', 'getAll', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                if (options.projection == undefined)\r\n                    options.projection = getDefaultProjection(0);\r\n                sendCommand(2, 'data/findAll', \"0\", { }, options, callBack);\r\n            }\r\n            entity.prototype.count = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'E'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fEnt', 'count', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/count', \"0\", { }, options, callBack);\r\n            }\r\n            entity.prototype.findandmodify = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                if (! updatableFieldOnly(0, options.update))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'E'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fEnt', 'findandmodify', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/findandmodify', \"0\", { }, options, callBack);\r\n            }\r\n            entity.prototype.update = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                if (! updatableFieldOnly(0, options.update))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'E'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fEnt', 'update', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/update', \"0\", { }, options, callBack);\r\n            }\r\n            entity.prototype.getAllWithField = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    throw new Error(\"Invalid arguments\");\r\n                jsonConcat(options.query, {'2': 'E'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fEnt', 'getAllWithField', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                if (options.projection == undefined)\r\n                    options.projection = getDefaultProjection(0);\r\n                sendCommand(2, 'entity/getAllWithField', \"0\", { }, options, callBack);\r\n            }            \r\n            /*\r\n            entity.prototype.remove = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    throw new Error(\"Invalid arguments\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fEnt', 'remove', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/remove', \"0\", { }, options, callBack);\r\n            }\r\n            */\r\n            return entity;\r\n        })();\r\n        //////////\r\n        // Field\r\n        //      Internal:\r\n        //  { _id: fCN, \"1\": eCN, \"2\": \"F\", \"3\": name, \"4\": description,\r\n        //              \"K\": textUI, \"L\": 'd.' + fCN, \"M\": type };\r\n        //      full version:\r\n        //  {\"fieldCN\":_id, entityCN:\"1\", \"typeCN\":\"F\", \"name\":\"xxx\", \"description\":\"yyy\", \"typeUI\":\"zzz\", \"type\":\"xyxyxy\"}\r\n        //////////\r\n        flMain.prototype.field=(function(){\r\n            var field = function() {\r\n            }\r\n\r\n            field.prototype.add = function(data, callBack){\r\n                if (!miniFieldIncluded(1, data))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                data['2']='F';\r\n                if (isFlagged(4))\r\n                    generateFunction('fField', 'add', null, JSON.stringify(data));\r\n                sendCommand(2, 'data/insert', \"0\", {d: data}, { }, callBack);\r\n            }\r\n            // iNet should be like: {\"query\":{\"_id\":eCN}, projection:{}}\r\n            field.prototype.getOne = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'F'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fField', 'getOne', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                if (options.projection == undefined)\r\n                    options.projection = getDefaultProjection(1);\r\n                sendCommand(2, 'data/findOne', \"0\", { }, options, callBack);\r\n            }\r\n            field.prototype.getAll = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'F'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fField', 'getAll', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                if (options.projection == undefined)\r\n                    options.projection = getDefaultProjection(1);\r\n                sendCommand(2, 'data/findAll', \"0\", { }, options, callBack);\r\n            }\r\n            field.prototype.update = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                if (! updatableFieldOnly(1, options.update))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'F'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fField', 'update', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/update', \"0\", { }, options, callBack);\r\n            }\r\n            field.prototype.count = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'F'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fField', 'count', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/count', \"0\", { }, options, callBack);\r\n            }\r\n            field.prototype.findandmodify = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                if (! updatableFieldOnly(1, options.update))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'F'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fField', 'findandmodify', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/findandmodify', \"0\", { }, options, callBack);\r\n            }\r\n            field.prototype.update = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                if (! updatableFieldOnly(1, options.update))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'F'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fField', 'update', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/update', \"0\", { }, options, callBack);\r\n            }\r\n\r\n            /*\r\n            field.prototype.remove = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    throw new Error(\"Invalid arguments\");\r\n                jsonConcat(options.query, {'2': 'F'}, \"\");\r\n                 if (isFlagged(4))\r\n                    generateFunction('fField', 'remove', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n               sendCommand(2, 'data/remove', \"0\", { }, options, callBack);\r\n            }\r\n            */\r\n            return field;\r\n        })();\r\n\r\n////////////\r\n        //////////\r\n        // relation\r\n        //      Internal:\r\n        //  { _id: fCN, \"1\": eCN, \"2\": \"F\", \"3\": name, \"4\": description,\r\n        //              \"K\": textUI, \"L\": 'd.' + fCN, \"M\": type };\r\n        //      full version:\r\n        //  {\"relationCN\":_id, entityCN:\"1\", \"typeCN\":\"F\", \"name\":\"xxx\", \"description\":\"yyy\", \"typeUI\":\"zzz\", \"type\":\"xyxyxy\"}\r\n        //////////\r\n        flMain.prototype.relation=(function(){\r\n            var relation = function() {\r\n            }\r\n            // API going to the server\r\n            relation.prototype.add = function(data, callBack){\r\n                //console.dir(data);\r\n                if (!miniFieldIncluded(2, data))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                data['1']='-1';\r\n                data['2']='R';\r\n                if (isFlagged(4))\r\n                    generateFunction('fRel', 'add', null, JSON.stringify(data));\r\n                sendCommand(2, 'data/insert', \"0\", {d: data}, { }, callBack);\r\n            }\r\n            // iNet should be like: {\"query\":{\"_id\":eCN}, projection:{}}\r\n            relation.prototype.getOne = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'R'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fRel', 'getOne', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                if (options.projection == undefined)\r\n                    options.projection = getDefaultProjection(2);\r\n                sendCommand(2, 'data/findOne', \"0\", { }, options, callBack);\r\n            }\r\n            relation.prototype.getAll = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'R'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fRel', 'getAll', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                if (options.projection == undefined)\r\n                    options.projection = getDefaultProjection(2);\r\n                sendCommand(2, 'data/findAll', \"0\", { }, options, callBack);\r\n            }\r\n            /*\r\n            relation.prototype.update = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                if (! updatableFieldOnly(2, options.update))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'R'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fRel', 'update', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/update', \"0\", { }, options, callBack);\r\n            }\r\n            */\r\n            relation.prototype.count = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    throw new Error(\"Invalid arguments\");\r\n                jsonConcat(options.query, {'2': 'R'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fRel', 'count', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/count', \"0\", { }, options, callBack);\r\n            }\r\n            /*\r\n            relation.prototype.findandmodify = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    return callBack(\"Invalid arguments\", null);\r\n                if (! updatableFieldOnly(2, options.update))\r\n                    return callBack(\"Invalid arguments\", null);\r\n                jsonConcat(options.query, {'2': 'R'}, \"\");\r\n                if (isFlagged(4))\r\n                    generateFunction('fRel', 'findandmodify', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n                sendCommand(2, 'data/findandmodify', \"0\", { }, options, callBack);\r\n            }\r\n            */\r\n\r\n            /*\r\n            relation.prototype.remove = function(options, callBack){\r\n                if(checkParamOnly(options, options['query'], 'StopHere' ) == false)\r\n                    throw new Error(\"Invalid arguments\");\r\n                jsonConcat(options.query, {'2': 'R'}, \"\");\r\n                 if (isFlagged(4))\r\n                    generateFunction('fRel', 'remove', null, JSON.stringify(options));\r\n                adjustSystemDico(options);\r\n               sendCommand(2, 'data/remove', \"0\", { }, options, callBack);\r\n            }\r\n            */\r\n\r\n            return relation;\r\n        })();\r\n        //////////////////////\r\n        /// mailChimp API\r\n        //////////////////////\r\n        flMain.prototype.mailChimp=(function(){\r\n            var mailChimp = function() {\r\n            }\r\n            // API going to the server\r\n            mailChimp.prototype.ping = function(data, callBack){\r\n                //console.dir(data);\r\n                if(typeof data == 'function')\r\n                    {   callBack=data;\r\n                        data=undefined;\r\n                    }\r\n                console.log(\"ping: callback type: \"+ typeof callBack);\r\n                sendCommand(2, 'mailchimp/ping', \"0\", data, { }, callBack);\r\n            }\r\n            // iNet should be like: {\"query\":{\"_id\":eCN}, projection:{}}\r\n            mailChimp.prototype.campaignList = function(data, callBack){\r\n                sendCommand(2, 'campaign/list', \"0\", data, { }, callBack);\r\n            }\r\n            mailChimp.prototype.campaignContent = function(data, callBack){\r\n                sendCommand(2, 'campaign/content', \"0\", data, { }, callBack);\r\n            }\r\n            return mailChimp;\r\n        })();\r\n        //////////////////\r\n        ///  Mandrill\r\n        //////////////////\r\n        flMain.prototype.mandrill=(function(){\r\n            var mandrill = function() {\r\n            }\r\n            // API going to the server\r\n            mandrill.prototype.init = function(data, callBack){\r\n                sendCommand(2, 'mandrill/init', \"0\", data, { }, callBack);\r\n            }\r\n            mandrill.prototype.rejectList = function(data, callBack){\r\n                sendCommand(2, 'mandrill/rejectlist', \"0\", data, { }, callBack);\r\n            }\r\n            mandrill.prototype.rejectDelete = function(data, callBack){\r\n                sendCommand(2, 'mandrill/rejectdelete', \"0\", data, { }, callBack);\r\n            }\r\n            return mandrill;\r\n        })();\r\n\r\n        ///////////////////////\r\n        // return our instance\r\n        ///////////////////////\r\n        return flMain;\r\n    })();\r\n\r\n    /////////////////////\r\n    // Utility functions\r\n    /////////////////////\r\n    function generateFunction(flObj, fName, eCN, fParam)\r\n    {\r\n        if (bResetTraceTxt){\r\n            strTraceTxt=\"\";\r\n            bResetTraceTxt=false;\r\n        }\r\n        strTraceTxt+='   function(callback){\\n';\r\n        if (eCN == undefined){\r\n            strTraceTxt+=\"       console.log('\" + flObj + \".\" + fName + \"(\" + fParam + \") ');\\n\";\r\n            strTraceTxt+='       ' + flObj + '.' + fName + '(' + fParam + ', function(err, result){\\n';\r\n        }\r\n        else{\r\n            strTraceTxt+=\"       console.log('\" + flObj + \".\" + fName + \"(\\\"\" + eCN +\"\\\", \" + fParam + \") ');\\n\";\r\n            strTraceTxt+='       ' + flObj + '.' + fName + '(\"' + eCN + '\", ' + fParam + ', function(err, result){\\n';\r\n        }\r\n\r\n        strTraceTxt+='           if(err) console.log(\"** ERROR ** : \" + JSON.stringify(err)); else console.log(\"    --> returns: \" + JSON.stringify(result));\\n';\r\n        strTraceTxt+='           console.log(\" \"); callback(err);\\n';\r\n        strTraceTxt+='       })\\n';\r\n        strTraceTxt+='   },\\n';\r\n    }\r\n\r\n     function sendCommand( ){        // (noSrv, api, eCN, [data], [options], cb)\r\n        //console.log(\"in sendCommand\");\r\n        //dumpArg(arguments, 'sendCommand');\r\n        var cb;\r\n        var j={};\r\n        j.eCN=arguments[2];\r\n        j.options={}\r\n        j.data={};\r\n\r\n        switch (arguments.length)\r\n        {\r\n            case 4:\r\n                cb=arguments[3];\r\n                break;\r\n            case 5:\r\n                j.options=arguments[3];\r\n                cb=arguments[4];\r\n                break;\r\n            case 6:\r\n                j.data=arguments[3];\r\n                j.options=arguments[4];\r\n                cb=arguments[5];\r\n                break;\r\n            default:\r\n                throw new Exception('sendCommand: wrong number of arguments');\r\n                break;\r\n        }\r\n\r\n        if(typeof cb != 'function'){\r\n            dumpArg(arguments, 'sendCommand');\r\n            throw new Error (\"sendCommand: no callBack given \" + arguments.length);\r\n        }\r\n        if(j.options != undefined){\r\n            //if(j.options.nofix != true)\r\n            prefixFields(j.options);\r\n            delete j.options.noPrefix;\r\n        }\r\n        if(isFlagged(4)){\r\n            dumpArg(arguments, 'sendCommand');\r\n            //console.log(arguments[1] + ', ' + JSON.stringify(j) ) \r\n        }\r\n        switch(arguments[0]) {\r\n            case 1:\r\n                sendMainSrv(arguments[1], j, cb);\r\n                break;\r\n            case 2:\r\n                sendApiSrv(arguments[1], j, cb);\r\n                break;\r\n            default:\r\n                throw new Error(\"sendCommand: invalid server No: \" + argumants[0]);\r\n                break;\r\n        }\r\n    }\r\n    function adjustSystemDico(options){\r\n        if(options == undefined)\r\n            options={};\r\n        if(options.query == undefined)\r\n            options.query={};\r\n        if(options.noPrefix == true)\r\n            throw new Error(\"impossible to use noPrefix:true in this call\");\r\n        if(options.options != undefined && options.options.system == true){\r\n            ;\r\n        }\r\n        else {\r\n            options.query=jsonConcat(options.query, {'J':{$ne: 0}}, \"\");\r\n        }\r\n        delete options.system;\r\n    }\r\n    function areKeysAllowed(forbidenKeys, js)\r\n    {\r\n        var forbidWithPrefix=[];\r\n        for(var fk in forbidenKeys)\r\n            forbidWithPrefix.push('d.'+forbidenKeys[fk]);\r\n        //console.dir(forbidWithPrefix);\r\n        for (ii in js)\r\n        {\r\n            if(typeof js[ii] == 'object')\r\n                if(this.areKeysAllowed(forbidenKeys, js[ii]) == false)\r\n                    return false;\r\n            if (forbidenKeys.indexOf(ii) >= 0 || forbidWithPrefix.indexOf(ii) >= 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    function jsonConcat(o1, o2, prefix) {\r\n     for (var key in o2) {\r\n      //console.log (\"key: \" + prefix+key + \" => \" + 2[key]);\r\n      o1[prefix+key] = o2[key];\r\n     }\r\n     return o1;\r\n    }\r\n    function sendMainSrv (apiName, superJ, callBack){\r\n        FL.common.printToConsole(\" ------ sendMainSrv ---------\",\"API\" );\r\n        if(isFlagged(2) )\r\n            FL.common.printToConsole(\"   => \" + apiName + ' : ' + JSON.stringify(superJ),\"API\");\r\n\r\n        function api2CallBack(err, data){\r\n            //console.log ('<= ' + apiName + '-callBack data= ' + JSON.stringify(data) + ', err: ' + err);\r\n            if (err){\r\n                if(isFlagged(2) )\r\n                        FL.common.printToConsole(\"   <= \" +apiName + '-callBack : ** ERROR ** : ' + err,\"API\");\r\n                return callBack(err, null);\r\n            }\r\n            if(isFlagged(2) )\r\n                FL.common.printToConsole(\"   <= \" + apiName + \" data: \" + JSON.stringify(data),\"API\");\r\n            return callBack(null, data);\r\n        }\r\n        axCall(urlMainProt, urlMainSrv, urlMainPort, '/api/' + apiName, superJ, false, api2CallBack, flTraceSession, flTraceServer);\r\n    }\r\n    function sendApiSrv (apiName, superJ, callBack){\r\n        FL.common.printToConsole(\" **** sendApiSrv ****\" ,\"API\");\r\n        if(isFlagged(2) )\r\n            FL.common.printToConsole(\"   => \" + apiName + ' : ' + JSON.stringify(superJ),\"API\");\r\n\r\n        function apiCallBack(err, data){\r\n            //console.log ('<= ' + apiName + '-callBack data= ' + JSON.stringify(data) + ', err: ' + err);\r\n            if (err){\r\n                if(isFlagged(2) )\r\n                        FL.common.printToConsole(\"   <= \" +apiName + '-callBack : ** ERROR ** : ' + err,\"API\");\r\n                return callBack(err, null);\r\n            }\r\n            if(isFlagged(2) )\r\n                FL.common.printToConsole(\"   <= \" + apiName + \" data: \" + JSON.stringify(data),\"API\");\r\n            return callBack(null, data);\r\n        }\r\n        axCall(urlAbeProt, urlAbeSrv, urlAbePort, '/api/' + apiName, superJ, true, apiCallBack, flTraceSession, flTraceServer);\r\n    }\r\n    function isFlagged(flg){\r\n        if ((flg & flTraceClient) == flg)\r\n            return true;\r\n        return false;\r\n    }\r\n    function checkParam(allArguments){\r\n        var args = arguments;\r\n        //console.log(\"checkParam testing \" + JSON.stringify(args));\r\n        var callBack=undefined;\r\n        for(var o in arguments){\r\n            ////console.log(arguments[o]);\r\n            if(typeof arguments[o] == \"function\"){\r\n                callBack = arguments[o];\r\n                //console.log(\"checkParam : callback found\");\r\n            }\r\n        }\r\n\r\n        if (callBack == undefined){\r\n            console.log(\"... checkParam : **** NO CALLBACK GIVEN ***\");\r\n            return false;\r\n        }\r\n        return checkParamOnly(allArguments, \"StopHere\");\r\n    }\r\n    function checkParamOnly(){\r\n        var ii = 0;\r\n        for (var indArg in arguments){\r\n            if (arguments[indArg] == undefined ){ //} && ii != 2){\r\n                console.log(\"checkParam: at least one Parameter is missing, callBack with an error\");\r\n            dumpArg(arguments, 'checkParamOnly');\r\n\r\n                return false;\r\n            }\r\n            ii++;\r\n            if (arguments[indArg] == 'StopHere')\r\n                return true;\r\n        }\r\n        //console.log(\"...\" +\"checkParam ok\");\r\n        return true;\r\n    }\r\n        function prefixMe(str, js, aFlg){\r\n            for (var jsK in js){\r\n                var idx=jsK;\r\n                if(aFlg && idx != '_id' && idx.indexOf('$') != 0){\r\n                    idx='d.'+jsK;\r\n                    js[idx]=js[jsK];\r\n                    delete js[jsK];\r\n                }\r\n                else{\r\n                    if (typeof js[idx] == 'object'){\r\n                        prefixMe(str + '  ', js[idx], !(js[idx] instanceof Array));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        function prefixFields(options){\r\n            //console.log(\"before: \" + JSON.stringify(options));\r\n            if (options.query){\r\n                prefixMe('  ', options.query, true);\r\n            }\r\n            if (options.projection){\r\n                prefixMe('  ', options.projection, true);\r\n            }\r\n            if (options.sort){\r\n                prefixMe('  ', options.sort, true);\r\n            }\r\n            if (options.update){\r\n                prefixMe('  ', options.update, true);\r\n            }\r\n\r\n            //console.log(\"after all: \" + JSON.stringify(options));\r\n        }\r\n\r\n        function dumpArg(args, functionName){\r\n            var tmpStr=[];\r\n\r\n            tmpStr.push(functionName+ \" args(#\" + args.length +'):');\r\n            for (var ii =0; ii < args.length; ii++){\r\n                tmpStr.push('   '+ii + ' type: ' + typeof args[ii] +' value: <' + JSON.stringify(args[ii]) +'>, typeof: ' + typeof args[ii]);\r\n            }\r\n            //console.log(tmpStr);\r\n        }\r\n    //\r\n    function checkEntityWithFields(data){\r\n        var entity=JSON.parse(JSON.stringify(data));\r\n        delete entity.fields;\r\n        if(!miniFieldIncluded(0, entity)){\r\n            //console.log('miniField ent failed');\r\n            return false;\r\n        }\r\n        console.log('miniField ent ok');\r\n        if(data.fields == undefined){\r\n            //console.log('data.fields is null');\r\n            return false;\r\n        }\r\n        for(fi =0; fi< data.fields.length; fi++){\r\n            data.fields[fi]['1']='xx';\r\n            if(!miniFieldIncluded(1, data.fields[fi])){\r\n                //console.log('miniField fi ' + JSON.stringify(data.fields[fi]) + ' failed');\r\n                return false;\r\n            }\r\n        }\r\n        //console.log('check OK');\r\n        return true;\r\n    }\r\n    ////////////////////////// integrity check for dictionary access ////////////////////////\r\n    function miniFieldIncluded(ind, js)\r\n    {\r\n        var rslt={};\r\n        JSON.stringify(js, function(k, v){\r\n            if(rslt[k] == undefined)\r\n                rslt[k]=1;\r\n            else\r\n                rslt[k]++;\r\n            return v;\r\n        });\r\n        //console.dir(rslt);\r\n        for(var k in sysParam[ind][0]){\r\n            //console.log('  '+k +':'+ sysParam[ind][0][k] + ' <=> '+ rslt[k]);\r\n            if (rslt[k] == undefined || sysParam[ind][0][k] > rslt[k]){\r\n                //console.log(\"one arg missing\");\r\n                return false;\r\n            }\r\n        }\r\n        //console.log(\"miniField: ok\");\r\n        return true;\r\n    }\r\n\r\n    function updatableFieldOnly(ind, js2)\r\n    {\r\n        var js=JSON.parse(JSON.stringify(js2));     // deep copy\r\n        var rslt={};\r\n        JSON.stringify(js, function(k, v){\r\n            //console.log(JSON.stringify(k) +':'+ JSON.stringify(v)+' type ' + typeof v + ' Array? ' + (v instanceof Array) + ', sp: '+sysParam[ind][1][k]);\r\n            if(k == \"\" | k[0] == '$' || (typeof v == 'object' && !(v instanceof Array)))\r\n                return v;\r\n            if(rslt[k] == undefined)\r\n                rslt[k]=1.0;\r\n            else\r\n                rslt[k]=rslt[k]+1;\r\n\r\n            if(sysParam[ind][1][k] == -1){\r\n                //console.log (JSON.stringify(v)+ ' becomes ' +JSON.stringify([]));\r\n                return [];\r\n            }\r\n            return v;\r\n        })\r\n        //console.dir(rslt);\r\n        //for(var k in rslt){\r\n        //    //console.log(k +':'+ rslt[k] + ' == ' + sysParam[ind][1][k]);\r\n        //    if(sysParam[ind][1][k]== undefined)\r\n        //        return false;\r\n        //}\r\n        return true;\r\n    }\r\n    function getDefaultProjection(ind)\r\n    {\r\n        return JSON.parse(JSON.stringify(sysParam[ind][2]));\r\n    }\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////    \r\n    // Declaration for node and browser compatibility\r\n    if (typeof module !== 'undefined' && typeof module.exports !== 'undefined')\r\n        module.exports = flMain;\r\n    else\r\n        window.flMain = flMain;\r\n})();\r\n"]}