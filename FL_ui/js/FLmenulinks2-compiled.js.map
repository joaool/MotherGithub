{"version":3,"sources":["FLmenulinks2.js"],"names":[],"mappings":"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","file":"FLmenulinks2-compiled.js","sourcesContent":["// jQuery(document).ready(function($){\r\n\t/**\r\n\t* data dictionary UI methods \r\n\t*/\r\n\t// FL = FL || {}; //gives undefined if FL is undefined \r\n\t// FL = {};\r\n\t// // a=\"A\";\r\n\t// b=\"B\";\r\n\t// var a = (typeof a === 'undefined') ? b : a;//if a is defined returns \"A\" otherwise returns the content of b\r\n\t// alert(\"zzz=\"+a);//sets \"B\"\r\n\r\n\r\n\tFL = (typeof FL === 'undefined') ? {} : FL;\r\n\tFL[\"links\"] = (function(){//name space FL.dd\r\n\t\tvar internalTest = function ( x) { //returns a 2 bytes string from number \r\n\t\t\tFL.common.printToConsole( \"FLmenulinks2.js internalTest -->\"+x );\r\n\t\t};\r\n\t\tvar XgetMailchimpHTML = function(cId) {\r\n\t\t\tvar def = $.Deferred();\r\n\t\t\tvar arr = null;\r\n\t\t\tvar fl = FL.fl;\r\n\t\t\tif(fl){\r\n\t\t\t\tvar mc = new fl.mailChimp();\r\n\t\t\t\tmc.campaignContent({cid: cId}, function(err, data){\r\n\t\t\t\t\tif(!err){\r\n\t\t\t\t\t\tFL.common.printToConsole(\"campaignlist returns no error data=\"+JSON.stringify(data.html));\r\n\t\t\t\t\t\tdef.resolve(data.html);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn def.reject( \"FLmenulink2.js getMailchimpHTML - ERROR:\"+err );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\treturn def.reject(\"FLmenulink2.js getMailchimpHTML ->ERROR: token is empty\");\r\n\t\t\t}\r\n\t\t\treturn def.promise();\r\n\t\t};\r\n\t\tvar XconvertsToArrOfObj = function(templateOptionsArr){\r\n\t\t\t//receives [{\"_id\": \"t 115\",jsonTemplate:\"dfdfdg\"},{\"_id\": \"t 116\",jsonTemplate:\"dfgd\"}] and returns [{value:1,text: \"t 115\",template:\"dfdfdg\"},{value:2,text: \"t 116\",template:\"dfgd\"}]\r\n\t\t\treturn _.map(templateOptionsArr, function(el,index){ return {\"value\":index+1,\"text\":el._id,\"template\":el.jsonTemplate}; });\r\n\t\t};\r\n\t\tvar mountTemplate = function(jsonObj,header,body,footer) {\r\n\t\t\twindow.templateCounter = 0;\r\n\t\t\tappendTemplate(jsonObj.templateItems.header,header);\r\n\t\t\tappendTemplate(jsonObj.templateItems.body,body);\r\n\t\t\tappendTemplate(jsonObj.templateItems.footer,footer);\r\n\t\t};\r\n\t\tvar tt = function(){\r\n\t\t\tFL.common.printToConsole(\"tt\");\r\n\t\t};\r\n\r\n\t\tvar set3ButtonsAndGrid = function(entityName){//displays addGrid, delete and editGrid buttons (with clicks prepared) and services to the right\r\n\t\t\t$('#_editGrid').off('click');\r\n\t\t\t$(\"#_editGrid\").click(function(){\r\n\t\t\t\teditGrid(entityName);\r\n\t\t\t});\r\n\t\t\t$('#_newsletter').off('click');\r\n\t\t\t$(\"#_newsletter\").click(function(){\r\n\t\t\t\tvar templatePromise=FL.API.createTemplates_ifNotExisting();\r\n\t\t\t\ttemplatePromise.done(function(){\r\n\t\t\t\t\tprepareNewsletterEmission(entityName);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t\t\ttemplatePromise.fail(function(err){\r\n\t\t\t\t\talert(\"FLmenulinks2.js set3ButtonsAndGrid ->FAILURE with createTemplates_ifNotExisting err=\"+err);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\t\t\t\r\n\t\t\t});\r\n\t\t\t$('#_newsletterMC').off('click');\r\n\t\t\t$(\"#_newsletterMC\").click(function(){\r\n\t\t\t\tprepareNewsletterMCEmission(entityName);\r\n\t\t\t});\t\t\t\r\n\t\t\tFL.common.clearSpaceBelowMenus();\r\n\t\t\t$(\"#addGrid\").show();\r\n\t\t\t$(\"#addGrid\").html(\" Add Row\");\r\n\t\t\t$(\"#_delete\").show();\r\n\t\t\t$(\"#_editGrid\").show();\r\n\t\t\t$(\"#_newsletter\").show();\r\n\t\t\t$(\"#_newsletter\").html(\" Newsletter\");\r\n\t\t\t$(\"#_newsletterMC\").show();\r\n\t\t\t$(\"#_newsletterMC\").html(\" MC\");\r\n\r\n\t\t\t// $(\"#_editGrid\").html(\" Edit Grid\");\r\n\t\t\tFL.grid.displayDefaultGrid(entityName);\r\n\t\t};\r\n\t\tvar DefaultGridWithNewsLetterAndEditButtons = function(entityName) {\r\n\t\t\t//A)shows add button, newsletter and grid edit buttons if an email field exist in entityName\r\n\t\t\t//  \tchecks if _histoMail_<ecn(entityName)> exists. If not creates it.\r\n\t\t\t//B)shows add button and grid edit buttons if no email field exist in entityName\t\r\n\t\t\tif(FL.dd.isHistoMailPeer(entityName)){\r\n\t\t\t\t// var promiseUnblock = FL.API.checkServerCallBlocked()\r\n\t\t\t\t// .then(function(){\r\n\t\t\t\t// \tFL.grid.displayDefaultGrid(entityName);//loads from server and display buttons and Grid\r\n\t\t\t\t// \treturn;\r\n\t\t\t\t// }, function(err){ alert(\"FL.links.DefaultGridWithNewsLetterAndEditButtons ERROR: Please try again \" + err); } );\r\n\t\t\t\tFL.grid.displayDefaultGrid(entityName);//loads from server and display buttons and Grid\r\n\t\t\t}else{\r\n\t\t\t\t// alert(\"_histoMail for \"+entityName+\" does not exist! we need to create it\");\r\n\t\t\t\tpromise = FL.API.createTableHistoMails_ifNotExisting(entityName)\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\t// this.setSync(FL.dd.histoMailPeer(entityName),true);\r\n\t\t\t\t\t// set3ButtonsAndGrid(entityName);\r\n\t\t\t\t\tFL.grid.displayDefaultGrid(entityName);//loads from server and display buttons and Grid\r\n\t\t\t\t\treturn;}\r\n\t\t\t\t\t,function(err){alert(\"FL.links.DefaultGridWithNewsLetterAndEditButtons ERROR: cannot create histoMail peer for \" + entityName + \" - \"+err); return;});\r\n\t\t\t\t// set3ButtonsAndGrid(entityName);//displays addGrid, newletter and editGrid buttons (with clicks prepared) and displays grid\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar DefaultGridWithNewsLetterAndEditButtonsByCN = function(eCN) {//TO BE COMPLETED\r\n\t\t\t//A)shows add button, newsletter and grid edit buttons if an email field exist in entityName\r\n\t\t\t//  \tchecks if _histoMail_<ecn(entityName)> exists. If not creates it.\r\n\t\t\t//B)shows add button and grid edit buttons if no email field exist in entityName\r\n\t\t\tvar entityName = FL.dd.getEntityByCName(eCN);//to be removed\t<----------------------------------- REMOVE LATER ON\t\t\r\n\t\t\tif(FL.dd.isHistoMailPeerByCN(eCN)){\r\n\t\t\t\t// set3ButtonsAndGrid(entityName);//displays addGrid, newletter and editGrid buttons (with clicks prepared) and displays grid\r\n\t\t\t\tFL.grid.displayDefaultGrid(entityName);//loads from server and display buttons and Grid\r\n\t\t\t}else{\r\n\t\t\t\t// alert(\"_histoMail for \"+entityName+\" does not exist! we need to create it\");\r\n\t\t\t\tpromise = FL.API.createTableHistoMails_ifNotExisting(entityName)\r\n\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t// this.setSync(FL.dd.histoMailPeer(entityName),true);\r\n\t\t\t\t\t\t// set3ButtonsAndGrid(entityName);\r\n\t\t\t\t\t\tFL.grid.displayDefaultGrid(entityName);//loads from server and display buttons and Grid\r\n\t\t\t\t\t\treturn;}\r\n\t\t\t\t\t,function(err){alert(\"FL.links.DefaultGridWithNewsLetterAndEditButtons ERROR: cannot create histoMail peer for \" + entityName + \" - \"+err); return;});\r\n\t\t\t\t// set3ButtonsAndGrid(entityName);//displays addGrid, newletter and editGrid buttons (with clicks prepared) and displays grid\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn{\r\n\t\t\tabc: \"abc\",\r\n\t\t\ttest: function(x) {//call with menu key \"uri\": \"javascript:FL.links.test('JOJO')\"\r\n\t\t\t\tinternalTest(x);\r\n\t\t\t\talert(\"Fl.link.test(x) x=\"+x);\r\n\t\t\t},\r\n\t\t\tappSettings: function() {//call with menu key \"uri\": \"javascript:FL.grid.createGrid()\"\r\n\t\t\t\tvar masterDetailItems = {\r\n\t\t\t\t\tmaster:{radixpoint_options:FL.common.appsettings.radixpoint, thousandsSeparator_options:FL.common.appsettings.thousandsSeparator, decimals:FL.common.appsettings.decimals, dateformat_options:FL.common.appsettings.dateformat, currency_options:FL.common.appsettings.currency},\r\n\t\t\t\t\tdetail:{} //format is array with {attribute:<attribute name>,description:<attr description>,statement;<phrase>}\r\n\t\t\t\t};\r\n\t\t\t\tvar options = {\r\n\t\t\t\t\ttype:\"primary\",\r\n\t\t\t\t\ticon:\"book\",\r\n\t\t\t\t\tbutton1:\"Cancel\",\r\n\t\t\t\t\tbutton2:\"Change Settings\",\r\n\t\t\t\t\tdropdown:{\r\n\t\t\t\t\t\t\"_editAppSettings_radixpoint_options\":{\r\n\t\t\t\t\t\t\tarr:[ {value:1,text:\". point (used in US)\",op:\".\"}, {value:2,text:\", comma (used in Europe)\",op:\",\"}],\r\n\t\t\t\t\t\t\tdefault:FL.common.appsettings.radixpoint,\r\n\t\t\t\t\t\t\tonSelect:function(objSelected){\r\n\t\t\t\t\t\t\t\t$(\"#_editAppSettings_radixpoint\").text(objSelected.op);\r\n\t\t\t\t\t\t\t\t// FL.common.appsettings.radixpoint = objSelected.op;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"_editAppSettings_thousandsSeparator_options\":{\r\n\t\t\t\t\t\t\tarr:[ {value:1,text:\", comma (used in US)\",op:\",\"}, {value:2,text:\". point (used in Europe)\",op:\".\"}, {value:3,text:\" space (used in France)\",op:\"space\"}],\r\n\t\t\t\t\t\t\tdefault:FL.common.appsettings.thousandsSeparator,\r\n\t\t\t\t\t\t\tonSelect:function(objSelected){\r\n\t\t\t\t\t\t\t\t$(\"#_editAppSettings_thousandsSeparator\").text(objSelected.op);\r\n\t\t\t\t\t\t\t\t// FL.common.appsettings.radixpoint = objSelected.op;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\t\t\t\t\t\t\r\n\t\t\t\t\t\t\"_editAppSettings_dateformat_options\":{\r\n\t\t\t\t\t\t\tarr:[ {value:1,text:\"YMD (used in China)\",op:\"YMD\"}, {value:2,text:\"MDY (used in US)\",op:\"MDY\"}, {value:3,text:\"DMY (used in Europe)\",op:\"DMY\"}],\r\n\t\t\t\t\t\t\tdefault:FL.common.appsettings.dateformat,\r\n\t\t\t\t\t\t\tonSelect:function(objSelected){\r\n\t\t\t\t\t\t\t\t$(\"#_editAppSettings_dateformat\").text(objSelected.op);\r\n\t\t\t\t\t\t\t\t// FL.common.appsettings.dateformat = objSelected.op;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"_editAppSettings_currency_options\":{\r\n\t\t\t\t\t\t\tarr:[ {value:1,text:\"$ (Dollar)\",op:\"$\"}, {value:2,text:\"€ (Euro)\",op:\"€\"}, {value:3,text:\"Kr (Krona)\",op:\"Kr \"},\r\n\t\t\t\t\t\t\t\t{value:4,text:\"Kz (Kwanza)\",op:\"Kz \"}, {value:5,text:\"MT (Metical)\",op:\"MT \"}, {value:6,text:\"R$ (Real)\",op:\"R$ \"},\r\n\t\t\t\t\t\t\t\t{value:7,text:\"元 (Renmimbi)\",op:\"元\"}, {value:7,text:\"₹ (Rupee)\",op:\"₹\"}, {value:8,text:\"Rs (Rupee)\",op:\"Rs \"},\r\n\t\t\t\t\t\t\t\t{value:8,text:\"¥ (Yen)\",op:\"¥\"} ],\r\n\t\t\t\t\t\t\tdefault:FL.common.appsettings.currency,\r\n\t\t\t\t\t\t\tonSelect:function(objSelected){\r\n\t\t\t\t\t\t\t\t$(\"#_editAppSettings_currency\").text(objSelected.op);\r\n\t\t\t\t\t\t\t\t// FL.common.appsettings.currency = objSelected.op;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t// document.getElementById('_editAppSettings_dateformat').options[2].selected = true;\r\n\t\t\t\tFL.common.editMasterDetail(\"B\",\" Edit application settings\",\"_editAppSettingsTemplate\",masterDetailItems,options,function(result){\r\n\t\t\t\t\tif(result){//user choosed create\r\n\t\t\t\t\t\tvar radixpoint = $(\"#_editAppSettings_radixpoint\").text();\r\n\t\t\t\t\t\tvar thousandsSeparator = $(\"#_editAppSettings_thousandsSeparator\").text();\r\n\t\t\t\t\t\tvar decimals = $(\"#_editAppSettings_decimals\").val();\r\n\t\t\t\t\t\tvar dateformat = $(\"#_editAppSettings_dateformat\").text();//comming from dropdown\r\n\t\t\t\t\t\tvar currency = $(\"#_editAppSettings_currency\").text();\r\n\t\t\t\t\t\t// alert(\"Title:\"+entityName+\"-->\"+headerString);\r\n\t\t\t\t\t\tif(thousandsSeparator === \"\" )\r\n\t\t\t\t\t\t\tFL.common.makeModalInfo(\"Empty information => no changes in application setting\");\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tradixpoint = radixpoint.trim();\r\n\t\t\t\t\t\t\tthousandsSeparator = thousandsSeparator.trim();\r\n\t\t\t\t\t\t\tFL.common.appsettings.radixpoint = radixpoint;\r\n\t\t\t\t\t\t\tFL.common.appsettings.thousandsSeparator = thousandsSeparator.trim();\r\n\t\t\t\t           \tif(radixpoint == \".\" && thousandsSeparator ==\".\") //clash =>force distinction\r\n\t\t\t\t                FL.common.appsettings.thousandsSeparator = \",\";\r\n\t\t\t\t            if(radixpoint == \",\" && thousandsSeparator ==\",\") //clash =>force distinction\r\n\t\t\t\t                FL.common.appsettings.thousandsSeparator = \".\";\r\n\t\t\t\t\t\t\tFL.common.appsettings.decimals = decimals;\r\n\t\t\t\t\t\t\tFL.common.appsettings.dateformat = dateformat;\r\n\t\t\t\t\t\t\tFL.common.appsettings.currency = currency;\r\n\t\t\t\t\t\t\t// now we should save this to framelink database\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// alert(\"Create Grid canceled\");\r\n\t\t\t\t\t\tFL.common.makeModalInfo(\"No changes in application settings\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tappSettingsForceButton: function(){\r\n\t\t\t\t// FL.common.setApplicationSettingsFromSystem();\r\n\t\t\t\tvar browserSettings = FL.common.getLocaleSettings();\r\n\t\t\t\t$(\"#_editAppSettings_radixpoint\").text(browserSettings.radix);\r\n\t\t\t\t$(\"#_editAppSettings_thousandsSeparator\").text(browserSettings.thousands);\r\n\t\t\t\t$(\"#_editAppSettings_decimals\").val(2);\r\n\t\t\t\t$(\"#_editAppSettings_dateformat\").text(browserSettings.ymdFormat);\r\n\t\t\t\t$(\"#_editAppSettings_currency\").text(browserSettings.currency);\r\n\t\t\t},\r\n\t\t\tpageEditor: function(xPage) {//call with menu key \"uri\": \"javascript:FL.links.pageEditor('home')\"\r\n\t\t\t\tvar loginStr = localStorage.login;// Retrieve format {email:x1,password:x3,domain:x4};\r\n\t\t\t\tif(loginStr.length === 0){\r\n\t\t\t\t\talert(\"Fl.link.pageEditor no login in storage !. PLEASE CONNECT TO THE DATABASE \");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar API_key = FL.API.generateAPI_key(JSON.parse(loginStr));\r\n\t\t\t\tvar style = localStorage.style;\r\n\t\t\t\tvar font = localStorage.fontFamily;\r\n\t\t\t\tvar child = window.open(\"./page_editor.html?API_key=\"+API_key+\"#page=\" + xPage + \"#style=\" + style + \"#font=\"+font, 'theWindow');\r\n\t\t\t\tif (window.focus) {\r\n\t\t\t\t\tchild.focus();\r\n\t\t\t\t}\r\n\t\t\t\tvar timer = setInterval(checkChild, 500);\r\n\t\t\t\tfunction checkChild() {\r\n\t\t\t\t\tif (child.closed) {// we need this to show the new home page\r\n\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\tFL.login.home();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// child.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnewsletterEditor: function() {//call with menu key \"uri\": \"javascript:FL.links.newsletterEditor()\"\r\n\t\t\t\tvar connectionString = localStorage.login;// Retrieve format {email:x1,password:x3,domain:x4};\r\n\t\t\t\tif(connectionString.length === 0){\r\n\t\t\t\t\talert(\"Fl.link.newsletterEditor PLEASE CONNECT TO THE DATABASE \");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconnectionString = FL.common.enc(connectionString,1);\r\n\t\t\t\tvar child = window.open(\"./newsletter_editor.html?connectionString=\"+connectionString+\"#\", 'theWindow');\r\n\t\t\t\t// var child = window.open(\"./page_editor.html?connectionString=\"+connectionString+\"#page=\" + xPage + \"#style=\" + style + \"#font=\"+font, \"_blank\");\r\n\t\t\t\tif (window.focus) {\r\n\t\t\t\t\tchild.focus();\r\n\t\t\t\t}\r\n\t\t\t\tvar timer = setInterval(checkChild, 500);\r\n\t\t\t\tfunction checkChild() {\r\n\t\t\t\t\tif (child.closed) {// we need this to show the new home page\r\n\t\t\t\t\t\t// alert(\"FrameLink Page Editor was closed \\nconnectionString=\"+connectionString);\r\n\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\tFL.login.home();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// child.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetDefaultGridByCN: function(eCN) {//called with menu key \"uri\": \"javascript:FL.links.setDefaultGridByCN('55')\"\r\n\t\t\t\tvar entityName = FL.dd.getEntityByCName(eCN);\r\n\t\t\t\t\r\n\t\t\t\tif(entityName == \"_unNamed\"){\r\n\t\t\t\t\tFL.dd.updateEntityByCName(eCN,{singular:\"unNamed\"});\r\n\t\t\t\t\tentityName = \"unNamed\";\r\n\t\t\t\t}\r\n\t\t\t\t// alert(\"entityName=\"+entityName+\" eCN=\"+eCN+\" synch=\"+FL.dd.isEntityInSync(entityName));\r\n\t\t\t\t\r\n\t\t\t\tif(entityName){\r\n\t\t\t\t\tthis.setDefaultGrid(entityName);\r\n\t\t\t\t}else{\r\n\t\t\t\t\talert(\"FL.links.setDefaultGridByCN ERROR: EntityCompressedName=\" + eCN + \" does not exist !!!\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetDefaultGridByCN2: function(eCN) {//called with menu key \"uri\": \"javascript:FL.links.setDefaultGridByCN('55')\"\r\n\t\t\t\tif(FL.dd.isEntityInLocalDictionaryByCN(eCN)){\r\n\t\t\t\t\tif(FL.dd.isEntityByCNInSync(eCN) ){//eCN exists in local dictionary and is in sync\r\n\t\t\t\t\t\tDefaultGridWithNewsLetterAndEditButtons(entityName);\r\n\t\t\t\t\t}else{//entityName exists but is not in sync - we force synchronization\r\n\t\t\t\t\t\talert(\"FL.links.setDefaultGrid - \" + entityName + \" not in sync we will syncronize local to backend.\");\r\n\t\t\t\t\t\tFL.API.syncLocalDictionaryToServer(entityName)\r\n\t\t\t\t\t\t\t.then(function(){DefaultGridWithNewsLetterAndEditButtons(entityName);return;}\r\n\t\t\t\t\t\t\t\t,function(err){alert(\"FL.links.setDefaultGrid ERROR: cannot sync \" + entityName + \" to server!\"); return;});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{//entity is not in local dictionary =>we force an update of local dictionary with server dictionary data\r\n\t\t\t\t\t// FL.API.syncLocalDictionary()\r\n\t\t\t\t\t// \t.then(function(){DefaultGridWithNewsLetterAndEditButtons(entityName);return;}\r\n\t\t\t\t\t// \t\t,function(err){alert(\"FL.links.setDefaultGrid ERROR: cannot read back end Dictionary !\"); return;});\r\n\r\n\t\t\t\t\talert(\"FL.links.setDefaultGrid - cannot display grid. Entity -->\" + entityName + \"<-- does not exist in Local Data Dictionary.\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t},\t\t\t\r\n\t\t\tsetDefaultGrid: function(entityName) {//called with menu key \"uri\": \"javascript:FL.links.setDefaultGrid('JOJO')\"\r\n\t\t\t\t// alert(\"setDefaultGrid\"+entityName);\r\n\t\t\t\t// entityName = entityName.replace(/_/g,\" \");//if entityName as a space like \"test contacts\" it will be saved in menu as \"test_contact\"\r\n\t\t\t\tif(FL.dd.isEntityInLocalDictionary(entityName)){\r\n\t\t\t\t\tif(FL.dd.isEntityInSync(entityName) ){//entityName exists in local dictionary and is in sync\r\n\t\t\t\t\t\tDefaultGridWithNewsLetterAndEditButtons(entityName);\r\n\t\t\t\t\t}else{//entityName exists but is not in sync - we force synchronization\r\n\t\t\t\t\t\talert(\"FL.links.setDefaultGrid - \" + entityName + \" not in sync we will syncronize local to backend.\");\r\n\t\t\t\t\t\tFL.API.syncLocalDictionaryToServer(entityName)\r\n\t\t\t\t\t\t\t.then(function(){DefaultGridWithNewsLetterAndEditButtons(entityName);return;}\r\n\t\t\t\t\t\t\t\t,function(err){alert(\"FL.links.setDefaultGrid ERROR: cannot sync \" + entityName + \" to server!\"); return;});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{//entity is not in local dictionary =>we force an update of local dictionary with server dictionary data\r\n\t\t\t\t\t// FL.API.syncLocalDictionary()\r\n\t\t\t\t\t// \t.then(function(){DefaultGridWithNewsLetterAndEditButtons(entityName);return;}\r\n\t\t\t\t\t// \t\t,function(err){alert(\"FL.links.setDefaultGrid ERROR: cannot read back end Dictionary !\"); return;});\r\n\r\n\t\t\t\t\talert(\"FL.links.setDefaultGrid - cannot display grid. Entity -->\" + entityName + \"<-- does not exist in Local Data Dictionary.\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclearDictionary: function() {\r\n\t\t\t\tFL.common.printToConsole(\"------------------------- before clearing data dictionary -----------------------------\");\r\n\t\t\t\tFL.dd.displayEntities();\r\n\t\t\t\tFL.common.printToConsole(\"------------------------- after clearing data dictionary -----------------------------\");\r\n\t\t\t\tFL.dd.clear();\r\n\t\t\t\tFL.dd.displayEntities();\r\n\t\t\t\tFL.common.makeModalInfo(\"Local frameLink dictionary deleted. Synchronization with server failled.\");\r\n\r\n\t\t\t\t// FL.server.syncLocalStoreToServer(function(err){\r\n\t\t\t\t// \tif(err){\r\n\t\t\t\t// \t\tFL.common.printToConsole(\"FL.server.clearDictionary() ERROR --> failled !\");\r\n\t\t\t\t// \t\tFL.common.makeModalInfo(\"Local frameLink dictionary deleted. Synchronization with server failled.\");\r\n\t\t\t\t// \t}else{\t\r\n\t\t\t\t// \t\tFL.dd.displayEntities();\r\n\t\t\t\t// \t\tFL.common.makeModalInfo(\"FrameLink dictionary was successfully deleted (client and server).\");\r\n\t\t\t\t// \t}\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\tuserGrid: function() {//call with menu key \"uri\": \"javascript:FL.links.setDefaultGrid('JOJO')\"\r\n\t\t\t\tFL.common.makeModalInfo(\"To be implemented.\");\r\n\t\t\t},\t\t\t\r\n\t\t\tuserAdministration: function() {//call with menu key \"uri\": \"javascript:FL.links.setDefaultGrid('JOJO')\"\r\n\t\t\t\tFL.common.makeModalInfo(\"You are the sole user, for the time being.\");\r\n\t\t\t\t// var message = \"<p>You are the sole user, for the time being.</p><br>\" +\r\n\t\t\t\t// \t\t\t  \"<button type='submit' class='btn btn-primary' onclick='xFL.links.userGrid()'>Add users</button>'\";\r\n\t\t\t\t// FL.common.makeModal(\"A\",\"User Administration\",message,{type:\"primary\", icon:\"pencil\",button1:\"\",button2:\"Ok\"},function(){\r\n\t\t\t\t// \tif(result){\r\n\t\t\t\t// \t\talert(\"Yup\");\r\n\t\t\t\t// \t}else{\r\n\t\t\t\t// \t\talert(\"Nope\");\r\n\t\t\t\t// \t}\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\teditStylesAndFonts: function() {//call with menu key \"uri\": \"javascript:FL.links.setDefaultGrid('JOJO')\"\r\n\t\t\t\tFL.common.makeModalInfo(\"Edit styles and fonts to be implemented here. Meanwhile use the cog slide at left\");\r\n\t\t\t},\t\t\t\r\n\t\t\tresetMenus: function() {//saves factory default menu in current user\"\r\n\t\t\t\t// var lastMenuStr  = localStorage.storedMenu\r\n\t\t\t\tvar oMenu = {\r\n\t\t\t\t\t\"menu\" : [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"title\" : \"User Administration\",//0\r\n\t\t\t\t\t\t\t\"uri\":\"javascript:FL.links.userAdministration()\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t};\r\n\t\t\t\tlocalStorage.storedMenu = JSON.stringify(oMenu);\r\n\t\t\t\tFL.server.syncLocalStoreToServer();\r\n\t\t\t\tFL.menu.topicUpdateJsonMenu(oMenu);\r\n\t\t\t},\r\n\t\t\tgetMandrillRejectListForSender: function(senderEmail) {//returns Madrill rejectList for sender=senderEmail\r\n\t\t\t\tif(!senderEmail)\r\n\t\t\t\t\tsenderEmail=null;\r\n\t\t\t\tpromise = FL.API.mandrillRejectListForSender(senderEmail);\r\n\t\t\t\t// promise = FL.API.mandrillRejectListForSender('jessica.costa@weadvice.pt');\r\n\t\t\t\tpromise.done(function(data){\r\n\t\t\t\t\tFL.common.printToConsole(\">>>>> FL.links.getMandrillRejectListForSender() SUCCESS <<<<< list returned!\");\r\n\t\t\t\t\t// alert(\"getMandrillRejectListForSender:\"+JSON.stringify(data));\r\n\t\t\t\t\tFL.common.clearSpaceBelowMenus();\r\n\t\t\t\t\t$( \"#_placeHolder\" ).show();\r\n\t\t\t\t\t$( \"#_placeHolder\" ).append( '<h2 style=\"margin-left: 30px\">Rejected Email List for sender ' + senderEmail + ' </h2>' );\r\n\t\t\t\t\t$( \"#_placeHolder\" ).append( '<dl style=\"margin-left: 30px\"></dl>' );\r\n\t\t\t\t\t_.each(data, function(element){\r\n\t\t\t\t\t\t$( \"#_placeHolder dl\" ).append( '<dt><span class=\"tab\" >' + element.email + ' - rejected by ' + element.reason + '</span></dt><dd style=\"margin-left: 30px\">' + element.detail + '</dd>' );\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t\t\tpromise.fail(function(err){FL.common.printToConsole(\">>>>> FL.links.getMandrillRejectListForSender() FAILURE returning list<<<<<\"+err); return def.reject(err);});\r\n\t\t\t},\r\n\t\t\tsetMandrillDeleteFromReject: function(arrayOfEmails) {//delete Emails from  Madrill rejectList\r\n\t\t\t\tpromise = FL.API.mandrillDeleteFromReject(arrayOfEmails);\r\n\t\t\t\tpromise.done(function(data){\r\n\t\t\t\t\tFL.common.printToConsole(\">>>>> FL.links.setMandrillDeleteFromReject() SUCCESS <<<<< list returned!\");\r\n\t\t\t\t\talert(\"setMandrillDeleteFromReject:\"+JSON.stringify(data));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t\t\tpromise.fail(function(err){FL.common.printToConsole(\">>>>> FL.links.getMandrillRejectListForSender() FAILURE returning list<<<<<\"+err); return def.reject(err);});\r\n\r\n\t\t\t},\r\n\t\t\tdisplayStatistics: function() {//show all user statistics in mandrill\r\n\t\t\t\tvar user = \"test\";\r\n\t\t\t\tpromise = FL.emailServices.mandrillStats();\r\n\t\t\t\tpromise.done(function(data){\r\n\t\t\t\t\tFL.common.printToConsole(\">>>>> FL.links.displayStatistics() SUCCESS <<<<< list returned!\");\r\n\t\t\t\t\t// alert(\"FL.links.displayStatistics():\"+JSON.stringify(data));\r\n\t\t\t\t\tFL.common.clearSpaceBelowMenus();\r\n\t\t\t\t\t$( \"#_placeHolder\" ).show();\r\n\t\t\t\t\t$( \"#_placeHolder\" ).append( '<h2 style=\"margin-left: 30px\">email statistics per user ' + user + ' </h2>' );\r\n\t\t\t\t\t$( \"#_placeHolder\" ).append( '<dl style=\"margin-left: 30px\"></dl>' );\r\n\t\t\t\t\t_.each(data, function(element){\r\n\t\t\t\t\t\t$( \"#_placeHolder dl\" ).append( '<dt><span class=\"tab\" >' + element.address + ' - created at ' + element.created_at + '</span></dt>' + \r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Sent         :' + element.sent + '</dd>' + \r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Hard-bounces :' + element.hard_bounces + '</dd>' + \r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Soft-bounces :' + element.soft_bounces + '</dd>' + \r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Rejects      :' + element.rejects + '</dd>' +\r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Complaints    :' + element.complaints + '</dd>' +\r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Unsubs       :' + element.unsubs + '</dd>' +\r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Opens        :' + element.opens + '</dd>' +\r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Clicks       :' + element.clicks + '</dd>' +\r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Unique-opens :' + element.unique_opens + '</dd>' +\r\n\t\t\t\t\t\t\t'<dd style=\"margin-left: 30px\"> Unique-clicks:' + element.unique_clicks + '</dd>' \r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t});\r\n\t\t\t\tpromise.fail(function(err){FL.common.printToConsole(\">>>>> FL.links.getMandrillRejectListForSender() FAILURE returning list<<<<<\"+err); return def.reject(err);});\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t})();\r\n// });"]}