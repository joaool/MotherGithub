{"version":3,"sources":["FLbackgrid2.js"],"names":[],"mappings":"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","file":"FLbackgrid2-compiled.js","sourcesContent":["//jo.js to test widgets in backgrid\r\nvar FL = FL || {};\r\n\r\n$.mockjax({\r\n                url: '/names/*',\r\n                type: 'GET',\r\n                responseTime: 750,\r\n                response: function (body) {\r\n                    var searchTerm = body.url.split('/')[2];\r\n                    this.status = 200;\r\n                    this.responseText = JSON.stringify(_.filter([\r\n                        {\r\n                            name: \"Franz\"\r\n                        },\r\n                        {\r\n                            name: \"Theodore\"\r\n                        },\r\n                        {\r\n                            name: \"Matilda\"\r\n                        },\r\n                        {\r\n                            name: \"Roosevelt\"\r\n                        },\r\n                        {\r\n                            name: \"Ferdinand\"\r\n                        },\r\n                        {\r\n                            name: \"Dillon\"\r\n                        },\r\n                        {\r\n                            name: \"Sheila\"\r\n                        },\r\n                        {\r\n                            name: \"Francine\"\r\n                        }\r\n                    ], function (obj) {\r\n                        return obj.name.toLowerCase().indexOf(searchTerm.toLowerCase()) != -1;\r\n                    }));\r\n                }\r\n});\r\nFL[\"bg\"] = (function(){//name space FL.common\r\n\tvalidatePhone = function(phone) {\r\n        // var re = /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/;//(123) 456-7890\r\n        var re = /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{3}(-|\\s)\\d{3}$/;//(123) 456-789-012\r\n        return re.test(phone);\r\n    };\r\n \tvalidatePhone2 = function validatePhone(phoneVal) {//https://saikiran78.wordpress.com/2011/04/20/phone-number-validation-using-jquery/\r\n        var phoneRegExp = /^((\\+)?[1-9]{1,2})?([-\\s\\.])?((\\(\\d{1,4}\\))|\\d{1,4})(([-\\s\\.])?[0-9]{1,12}){1,2}$/;\r\n        //http://stackoverflow.com/questions/16385366/masking-input-with-optional-alphabet-prefix-to-a-phone-number-format\r\n        var numbers = phoneVal.split(\"\").length;\r\n        if (10 <= numbers && numbers <= 20 && phoneRegExp.test(phoneVal)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\tvalidateDatetime = function(datetime) {//ex \"01/06/2015 12:00 am\"\r\n\t\tvar bRet = false;\r\n\t\tvar date = datetime.substr(0,10);\r\n\t\tif ( FL.common.is_ValidDate(date) ){\r\n\t\t\tvar space = datetime.substr(10,1);\r\n\t\t\tif( space = \" \"){//a space is in position 10\r\n\t\t\t\tvar timeAnd = datetime.substr(11);//ex \"12:00 am\"\r\n\t\t\t\tvar time = datetime.substr(11,5);\r\n\t\t\t\tvar re = /^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;//HH:MM\r\n\t\t\t\tif(re.test(time)){//format correct for 12:00\r\n\t\t\t\t\tif(timeAnd.lenght == 5){\r\n\t\t\t\t\t\tbRet = true;//the format is \"01/06/2015 22:14\"\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tspace = timeAnd.substr(5,1);\r\n\t\t\t\t\t\tif( space = \" \"){//a space is in position 5 of \"12:00 am\"\r\n\t\t\t\t\t\t\tvar amPm = timeAnd.substr(6);\r\n\t\t\t\t\t\t\tvar re = /^[APap][mM]$/;//am\r\n\t\t\t\t\t\t\tif(re.test(amPm)){//format correct for am or pm\r\n\t\t\t\t\t\t\t\tbRet = true;//the format is \"01/06/2015 22:14 am\"\r\n\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t}\t\r\n        return bRet;\r\n    };\r\n    var setDateformat = function(){//possible values:\"YMD\",\"MDY\",\"DMY\"\r\n    \tvar oRet = {datetimepicker:\"yy/mm/dd\",format:\"YMD\"};//default value\r\n    \tif(FL.bg.dateFormat == \"MDY\")\r\n    \t\toRet = {datetimepicker:\"mm/dd/yy\",format:\"MDY\"};\r\n    \telse if(FL.bg.dateFormat == \"DMY\")\r\n    \t\toRet = {datetimepicker:\"dd/mm/yy\",format:\"DMY\"};\r\n    \treturn oRet;\r\n    };\r\n\tvar NumberCellEditor = Backgrid.InputCellEditor.extend({\r\n\t\tinitialize:function(options){\r\n\t\t\tBackgrid.InputCellEditor.prototype.initialize.apply(this, arguments);\r\n\t\t\tvar decimals = NumberCellEditor.prototype.decimals;//4;\r\n\t\t\tvar decimalMask = (\"0000000000000000000\").substr(0,decimals);\r\n\t\t\tvar mask = \"#\"+ FL.common.appsettings.thousandsSeparator + \"##0\" + FL.common.appsettings.radixpoint + decimalMask;//ex.\"#.##0,00\"\r\n\t\t\tvar cellVal = $(this.el).val();\r\n\t\t\t$(this.el).focus(function() {\r\n\t\t\t\tvar paddedValue =function(cellValStr,decimals){\r\n\t\t\t\t\tvar xRet = cellValStr;\r\n\t\t\t\t\t\tvar radixpoint = FL.common.appsettings.radixpoint;\r\n\t\t\t\t\t\tvar decimalPos = cellValStr.indexOf(radixpoint);\r\n\t\t\t\t\t\tif(decimalPos>=0){\r\n\t\t\t\t\t\tvar tail = FL.common.getTail(cellValStr);\r\n\t\t\t\t\t\t\tvar intValueStr = cellValStr.substr(0,decimalPos);\r\n\t\t\t\t\t\t\tif(tail.length<decimals){\r\n\t\t\t\t\t\t\t\ttail = tail.pad(decimals,\"0\",1);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\txRet = intValueStr + radixpoint + tail;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn xRet\t\r\n\t\t\t\t};\r\n\t\t\t\t\tvar cellVal = $(this).val();\r\n\t\t\t\t\tvar paddedCell =paddedValue(cellVal,decimals);\r\n\t\t\t\t\tconsole.log('------------->on focus ==>'+ $(this).val() +\" -->\"+paddedCell);\r\n\r\n\t\t\t\t\t$(this).val(paddedCell);\r\n\t\t\t\t\t$(this).select();\r\n\t\t\t});\r\n\t\t\tvar options = {\r\n\t\t\t\treverse: true, \r\n\t\t\t\tmaxlength: false,\r\n\t\t\t \tonKeyPress: function(val, event, currentField, options){\r\n\t\t\t\t\tconsole.log('------------->An key was pressed!:', val, ' event: ', event,'currentField: ', currentField, ' options: ', options);\r\n\t\t\t\t\tconsole.log('------------->current value='+ val);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t$(this.el).mask(mask, options);//https://github.com/igorescobar/jQuery-Mask-Plugin\r\n\t\t},\r\n\t\trender: function(model){\r\n\t\t\tvar cellVal = this.model.get(this.column.get(\"name\"));//extracts from model\r\n\t\t\tcellVal = this.formatter.fromRaw(cellVal);//converts to cell\r\n\t\t\tthis.$el.val(cellVal);\r\n\t\t\tconsole.log(\"render number....<\"+cellVal+\">-->\"+JSON.stringify( this.model.toJSON() ) );\r\n\t\t\tthis.delegateEvents();\r\n\t\t\treturn this;            \r\n\t\t}\t\t\t\t\r\n\t});\r\n\tvar CurrencyCellEditor = Backgrid.InputCellEditor.extend({\r\n\t\tinitialize:function(options){\r\n\t\t\tBackgrid.InputCellEditor.prototype.initialize.apply(this, arguments);\r\n\t\t\tvar decimals = CurrencyCellEditor.prototype.decimals;\r\n\t\t\tvar currency = CurrencyCellEditor.prototype.currency;\r\n\t\t\tvar thousandsSeparator = FL.common.appsettings.thousandsSeparator;\r\n\t\t\tif(thousandsSeparator==\"space\")\r\n       \t\t\tthousandsSeparator = \" \";\r\n\t\t\tvar decimalMask = (\"0000000000000000000\").substr(0,decimals);\r\n\t\t\tvar mask = \"#\"+ thousandsSeparator + \"##0\" + FL.common.appsettings.radixpoint + decimalMask;//ex.\"#.##0,00\"\r\n\t\t\tvar cellVal = $(this.el).val();\r\n\t\t\t$(this.el).focus(function() {\r\n\t\t\t\tvar paddedValue =function(cellValStr,decimals){\r\n\t\t\t\t\tvar xRet = cellValStr;\r\n\t\t\t\t\t\tvar radixpoint = FL.common.appsettings.radixpoint;\r\n\t\t\t\t\t\tvar decimalPos = cellValStr.indexOf(radixpoint);\r\n\t\t\t\t\t\tif(decimalPos>=0){\r\n\t\t\t\t\t\tvar tail = FL.common.getTail(cellValStr);\r\n\t\t\t\t\t\t\tvar intValueStr = cellValStr.substr(0,decimalPos);\r\n\t\t\t\t\t\t\tif(tail.length<decimals){\r\n\t\t\t\t\t\t\t\ttail = tail.pad(decimals,\"0\",1);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\txRet = intValueStr + radixpoint + tail;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn xRet\t\r\n\t\t\t\t};\r\n\t\t\t\t\tvar cellVal = $(this).val();\r\n\t\t\t\t\tvar paddedCell =paddedValue(cellVal,decimals);\r\n\t\t\t\t\tconsole.log('------------->on focus ==>'+ $(this).val() +\" -->\"+paddedCell);\r\n\r\n\t\t\t\t\t$(this).val(paddedCell);\r\n\t\t\t\t\t$(this).select();\r\n\t\t\t});\r\n\t\t\tvar options = {\r\n\t\t\t\treverse: true, \r\n\t\t\t\tmaxlength: false,\r\n\t\t\t \tonKeyPress: function(val, event, currentField, options){\r\n\t\t\t\t\tconsole.log('------------->An key was pressed!:', val, ' event: ', event,'currentField: ', currentField, ' options: ', options);\r\n\t\t\t\t\tconsole.log('------------->current value='+ val);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t$(this.el).mask(mask, options);//https://github.com/igorescobar/jQuery-Mask-Plugin\r\n\t\t},\r\n\t\trender: function(model){\r\n\t\t\tvar cellVal = this.model.get(this.column.get(\"name\"));//extracts from model\r\n\t\t\tcellVal = this.formatter.fromRaw(cellVal);//converts to cell\r\n\t\t\tthis.$el.val(cellVal);\r\n\t\t\tconsole.log(\"render number....<\"+cellVal+\">-->\"+JSON.stringify( this.model.toJSON() ) );\r\n\t\t\tthis.delegateEvents();\r\n\t\t\treturn this;            \r\n\t\t}\t\t\t\t\r\n\t});\r\n\tvar IntegerCellEditor = Backgrid.InputCellEditor.extend({\r\n\t\tinitialize:function(options){\r\n\t\t\tBackgrid.InputCellEditor.prototype.initialize.apply(this, arguments);\r\n\t\t\tvar mask = \"#\"+ FL.common.appsettings.thousandsSeparator + \"##0\";//ex.\"#.##0\"\r\n\t\t\tvar cellVal = $(this.el).val();\r\n\t\t\t$(this.el).focus(function() {\r\n\t\t\t\t\t$(this).select();\r\n\t\t\t});\r\n\t\t\tvar options = {\r\n\t\t\t\treverse: true, \r\n\t\t\t\tmaxlength: false,\r\n\t\t\t \tonKeyPress: function(val, event, currentField, options){\r\n\t\t\t\t\tconsole.log('------------->An key was pressed!:', val, ' event: ', event,'currentField: ', currentField, ' options: ', options);\r\n\t\t\t\t\tconsole.log('------------->current value='+ val);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t$(this.el).mask(mask, options);//https://github.com/igorescobar/jQuery-Mask-Plugin\r\n\t\t},\r\n\t\trender: function(model){\r\n\t\t\tvar cellVal = this.model.get(this.column.get(\"name\"));//extracts from model\r\n\t\t\tcellVal = this.formatter.fromRaw(cellVal);//converts to cell\r\n\t\t\tthis.$el.val(cellVal);\r\n\t\t\tconsole.log(\"render number....<\"+cellVal+\">-->\"+JSON.stringify( this.model.toJSON() ) );\r\n\t\t\tthis.delegateEvents();\r\n\t\t\treturn this;            \r\n\t\t}\t\t\t\t\r\n\t});\r\n\tvar PercentCellEditor = Backgrid.InputCellEditor.extend({\r\n\t\tinitialize:function(options){\r\n\t\t\tBackgrid.InputCellEditor.prototype.initialize.apply(this, arguments);\r\n\t\t\tvar decimals = CurrencyCellEditor.prototype.decimals;\r\n\t\t\t// var currency = CurrencyCellEditor.prototype.currency;\r\n\r\n\t\t\tvar decimalMask = (\"0000000000000000000\").substr(0,decimals);\r\n\t\t\tvar mask = \"#\"+ FL.common.appsettings.thousandsSeparator + \"##0\" + FL.common.appsettings.radixpoint + decimalMask;//ex.\"#.##0,00\"\r\n\t\t\tvar cellVal = $(this.el).val();\r\n\t\t\t$(this.el).focus(function() {\r\n\t\t\t\tvar paddedValue =function(cellValStr,decimals){\r\n\t\t\t\t\tvar xRet = cellValStr;\r\n\t\t\t\t\t\tvar radixpoint = FL.common.appsettings.radixpoint;\r\n\t\t\t\t\t\tvar decimalPos = cellValStr.indexOf(radixpoint);\r\n\t\t\t\t\t\tif(decimalPos>=0){\r\n\t\t\t\t\t\tvar tail = FL.common.getTail(cellValStr);\r\n\t\t\t\t\t\t\tvar intValueStr = cellValStr.substr(0,decimalPos);\r\n\t\t\t\t\t\t\tif(tail.length<decimals){\r\n\t\t\t\t\t\t\t\ttail = tail.pad(decimals,\"0\",1);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\txRet = intValueStr + radixpoint + tail;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn xRet\t\r\n\t\t\t\t};\r\n\t\t\t\t\tvar cellVal = $(this).val();\r\n\t\t\t\t\tvar paddedCell =paddedValue(cellVal,decimals);\r\n\t\t\t\t\tconsole.log('------------->on focus ==>'+ $(this).val() +\" -->\"+paddedCell);\r\n\r\n\t\t\t\t\t$(this).val(paddedCell);\r\n\t\t\t\t\t$(this).select();\r\n\t\t\t});\r\n\t\t\tvar options = {\r\n\t\t\t\treverse: true, \r\n\t\t\t\tmaxlength: false,\r\n\t\t\t \tonKeyPress: function(val, event, currentField, options){\r\n\t\t\t\t\tconsole.log('------------->An key was pressed!:', val, ' event: ', event,'currentField: ', currentField, ' options: ', options);\r\n\t\t\t\t\tconsole.log('------------->current value='+ val);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t$(this.el).mask(mask, options);//https://github.com/igorescobar/jQuery-Mask-Plugin\r\n\t\t},\r\n\t\trender: function(model){\r\n\t\t\tvar cellVal = this.model.get(this.column.get(\"name\"));//extracts from model\r\n\t\t\tcellVal = this.formatter.fromRaw(cellVal);//converts to cell\r\n\t\t\tthis.$el.val(cellVal);\r\n\t\t\tconsole.log(\"render number....<\"+cellVal+\">-->\"+JSON.stringify( this.model.toJSON() ) );\r\n\t\t\tthis.delegateEvents();\r\n\t\t\treturn this;            \r\n\t\t}\t\t\t\t\r\n\t});\r\n\t// });\t\t    \r\n\t//http://jsfiddle.net/bh5nd/\r\n\t//http://jsfiddle.net/Cj7UG/1/\t\r\n\tvar DateTimeCellEditor = Backgrid.InputCellEditor.extend({\r\n        //http://stackoverflow.com/questions/30115158/check-if-backgrid-cell-was-edited\r\n        events : {\r\n            \"change\" : \"onDatePickerValueChange\",\r\n            \"keydown\": \"onKeydown\"\r\n        },   \r\n        onDatePickerValueChange : function(e){\r\n            var command = new Backgrid.Command(e);\r\n         \tvar changedVal= this.$el.val();\r\n\t\t\tconsole.log('onDatePickerValueChange CurrentCell with content: >'+changedVal +\"<---\"+JSON.stringify( this.model.toJSON() ));\r\n\t\t\tvar isoDate = this.formatter.toRaw(changedVal);//transform cell value to isoDate\r\n            this.model.set(this.column.get(\"name\"), isoDate);//places isodate into the model\r\n            var val = this.formatter.fromRaw(changedVal);\r\n         \tthis.onKeydown(e);\r\n        },\r\n        onKeydown : function(e){\r\n            console.log(\"onKeydown !!!!!!!!!!!!!!!!!\");\r\n            var command = new Backgrid.Command(e);\r\n            if (command.passThru()) return true; // skip ahead to `change`\r\n            if (command.cancel()) {//the user pressed ESC\r\n        \t\te.stopPropagation();\r\n        \t\tconsole.log(\"CANCEL !!!\");\r\n      \t\t}\r\n            if (command.save()) {//the user pressed enter\r\n        \t\te.preventDefault();\r\n        \t\te.stopPropagation();\r\n        \t\tthis.model.trigger(\"backgrid:edited\", this.model, this.column, command);\r\n        \t\tconsole.log(\"save !!!!!!!!!!!!!!!!!\");\r\n        \t\t$(\"#ui-datepicker-div\").css('visibility','hidden');//with enter the datepicker will disappear\r\n        \t\t// alert(setDateformat().datetimepicker);//to test setDateformat()\r\n      \t\t}      \t\t\r\n         },\r\n        onCloseDatepicker: function(e){\r\n            var command = new Backgrid.Command(e);\r\n\t\t\tthis.model.trigger(\"backgrid:edited\", this.model, this.column, command);//r4emove blue mark\r\n\t\t\tconsole.log(\"onCloseDatepicker !!!!!!!!!!!!!!!!!\");\r\n        },\r\n        initialize:function(options){\r\n            Backgrid.InputCellEditor.prototype.initialize.apply(this, arguments);\r\n            this.column = options.column;\r\n            var input = this;\r\n            var thisView = this;\r\n            var z = $(this.el);\r\n            _.bindAll(this, 'render');\r\n            $(\"#ui-datepicker-div\").css('visibility','visible');//works with onKeydown() ENTER\r\n            $(this.el).datetimepicker({\r\n                timeFormat: \"hh:mm tt\",\r\n\t\t\t\tdateFormat: setDateformat().datetimepicker,//\"dd/mm/yy\",\r\n                controlType: 'select',\r\n                oneLine: true,\r\n                onClose: function(dateText,inst) {//an event belonging to the widget\r\n\t\t\t\t\tvar newValue = thisView.formatter.toRaw(dateText);\r\n\t\t\t\t\tconsole.log(\"close !!!->\"+newValue+\" -->\"+inst.id);\r\n\t\t\t\t\tthisView.render(thisView.model);\r\n\t\t\t\t\tthisView.onCloseDatepicker(inst);\r\n                },\r\n                onSelect: function(selectedDateTime){\r\n\t\t\t\t\tconsole.log(\"select ->\"+selectedDateTime);\r\n                }\r\n            });\r\n        },\r\n        render: function(model){\r\n        \tvar cellVal = this.model.get(this.column.get(\"name\"));//extracts from model\r\n        \tcellVal = this.formatter.fromRaw(cellVal);//converts to cell\r\n        \tthis.$el.val(cellVal);\r\n        \tconsole.log(\"render....<\"+cellVal+\">-->\"+JSON.stringify( this.model.toJSON() ) );\r\n           \tthis.delegateEvents();\r\n          \treturn this;            \r\n        }\r\n    });\r\n\tvar PhoneCellEditor = Backgrid.InputCellEditor.extend({ \r\n\t\tevents: {\r\n\t\t\t'focus #customer_phone':\"entersCurrentCell\",\r\n\t\t\t'focusout #customer_phone':\"updateCurrentCell\"\r\n\t\t},\r\n\t\tentersCurrentCell: function(event) {\r\n\t\t\tconsole.log('enters CurrentCell  content: >'+this.$el.val() +\"<--- row:\"+JSON.stringify( this.model.toJSON() ));\r\n\t\t},\r\n\t\tupdateCurrentCell: function(event) {\r\n\t\t\tconsole.log('Update CurrentCell with content: >'+this.$el.val() +\"<---\"+JSON.stringify( this.model.toJSON() ));\r\n\t\t\tvar val = this.$el.val();// $(\"#customer_phone\").val();\r\n\t\t\tvar newValue = this.formatter.toRaw(val);\r\n\t\t\tthis.model.set(this.column.get(\"name\"), newValue);\r\n\t\t\t\tconsole.log('After Update CurrentCell with content:'+JSON.stringify( this.model.toJSON() ));\r\n\t\t\tif (_.isUndefined(newValue)) {\r\n\t\t\t\tthis.model.trigger(\"backgrid:error\", this.model, this.column, val);\r\n\t\t\t}else{\r\n\t\t\t\tthis.model.trigger(\"backgrid:edited\",this.model, this.column,new Backgrid.Command(event));\r\n\t\t\t}\r\n\t\t},\r\n        initialize:function(){\r\n            Backgrid.InputCellEditor.prototype.initialize.apply(this, arguments);\r\n\t\t\tthis.$el.prop(\"id\",\"customer_phone\");\r\n\t\t\tthis.$el.prop(\"value\",\"\");\r\n\t\t\tthis.$el.prop(\"size\",\"25\");\r\n           \tvar maskList = $.masksSort($.masksLoad(\"phone-codes.json\"), ['#'], /[0-9]|#/, \"mask\");\r\n            var maskOpts = {\r\n                inputmask: {\r\n                    definitions: {\r\n                        '#': {\r\n                            validator: \"[0-9]\",\r\n                            cardinality: 1\r\n                        }\r\n                    },\r\n                    //clearIncomplete: true,\r\n                    showMaskOnHover: false,\r\n                    autoUnmask: false,\r\n                    oncomplete: function() { \r\n                        // console.log('inputmask in complete');\r\n                        console.log(\"inputmask is complete \");\r\n                    } \r\n                },\r\n                match: /[0-9]/,\r\n                replace: '#',\r\n                list: maskList,\r\n                listKey: \"mask\",\r\n                onMaskChange: function(maskObj, determined) {\r\n                    if (determined) {\r\n                        var hint = maskObj.name_en;\r\n                        if (maskObj.desc_en && maskObj.desc_en != \"\") {\r\n                            hint += \" (\" + maskObj.desc_en + \")\";\r\n                        }\r\n                        $(\"#descr\").html(hint);\r\n                    } else {\r\n                        $(\"#descr\").html(\"Mask of input\");\r\n                    }\r\n\t\t\t\t\tvar valWithMask = $('#customer_phone').val();\r\n\t\t\t\t\tconsole.log(\"--->\"+valWithMask);\r\n\t\t\t\t}\r\n            };        \r\n            this.$el.blur(function(){\r\n            \tconsole.log(\"This input field has lost its focus.\");\r\n            });\r\n            this.$el.inputmasks(maskOpts);       \r\n         },\r\n    });\r\n\tvar UrlCellEditor = Backgrid.CellEditor.extend({\r\n\t\tinitialize:function(options){\r\n\t\t\tBackgrid.InputCellEditor.prototype.initialize.apply(this, arguments);\r\n\t\t\tvar cellVal = $(this.el).val();\r\n\t\t\t// $(this.el).focus(function() {\r\n\t\t\t// \t\t$(this).select();\r\n\t\t\t// });\r\n\t\t\t$(this.el).val(\"xxx\");\r\n\t\t}\t\t\t\r\n\t});\r\n\tvar cellType = function(typeUI,enumerable,decimals,currency){\r\n\t\t//type string is converted to \"StringCell\" and a corresponding class in the Backgrid package namespace\r\n\t\t// Possible types:\"textbox\",\"integer\",\"number,\"date\",\"uri\"\r\n\t\t//      “textbox”,”textUpperbox”,”areabox”,”combobox”,”checkbox”, “phonebox”, “datetimebox”, \"urlbox\"\r\n\t\t// area,check,stringUpper,email,datetime\r\n\t\tif(typeUI==\"textbox\")\r\n\t\t\ttypeUI=\"string\";\r\n\t\telse if(typeUI==\"datebox\")\r\n\t\t\ttypeUI=\"datetimebox\";\r\n\t\tvar retObj = {cell:typeUI};\r\n\t\t// if( typeUI!=\"string\" && typeUI!=\"integer\" && typeUI!=\"number\" && typeUI!=\"date\" && typeUI!=\"uri\"){\r\n\t\tif( typeUI!=\"string\"){\r\n\t\t\tif(typeUI ==\"textUpperbox\"){\r\n\t\t\t\tvar formatterObj = {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\trawValue += ''; //to convert any value to string\r\n\t\t\t\t\t\treturn rawValue.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\t\r\n\t\t\t\tretObj[\"cell\"] = \"string\";\t\t\r\n\t\t\t\tretObj[\"formatter\"] = formatterObj;\r\n\t\t\t}else if(typeUI ==\"numberbox\"){//http://backbone-paginator.github.io/backbone.paginator/examples/js/extensions/text-cell/backgrid-text-cell.js\r\n\t\t\t\t// var decimals =  4;\r\n\t\t\t\t// NumberCellEditor.prototype.decimals = decimals;\r\n\t\t\t\tNumberCellEditor.prototype.decimals = decimals;\r\n\t\t\t\tvar decimalFormatter = {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\tvar num = Number(rawValue);\r\n\t\t\t\t\t\t// var numStr = accounting.formatMoney(num,\"€\",2,FL.common.appsettings.thousandsSeparator,FL.common.appsettings.radixpoint);\r\n\t\t\t\t\t\t// return numStr;\r\n\t\t\t\t\t\treturn num.toFormattedString(decimals);\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoRaw: function(formattedData) {\r\n\t\t\t\t\t\tvar z =FL.common.currencyToStringNumber(formattedData); \r\n\t\t\t\t\t\treturn FL.common.currencyToStringNumber(formattedData);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\t\t\r\n\t\t\t\tvar numberCell = Backgrid.StringCell.extend({\r\n\t\t\t\t    className: \"_fl_numeric-cell\",\r\n\t\t\t\t    formatter: decimalFormatter,\r\n\t\t\t\t    editor: NumberCellEditor,\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tretObj[\"cell\"] = numberCell;\r\n\t\t\t}else if(typeUI ==\"currencybox\"){//http://backbone-paginator.github.io/backbone.paginator/examples/js/extensions/text-cell/backgrid-text-cell.js\r\n\t\t\t\t// var decimals =  4;\r\n\t\t\t\t// NumberCellEditor.prototype.decimals = decimals;\r\n\t\t\t\t// var currency = \"€\";\r\n\t\t\t\tCurrencyCellEditor.prototype.decimals = decimals;\r\n\t\t\t\tCurrencyCellEditor.prototype.currency = currency;\r\n\t\t\t\tvar currencyFormatter = {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\tvar num = Number(rawValue);\r\n\t\t\t\t\t\t// var numStr = accounting.formatMoney(num,\"€\",2,FL.common.appsettings.thousandsSeparator,FL.common.appsettings.radixpoint);\r\n\t\t\t\t\t\t// return numStr;\r\n\t\t\t\t\t\treturn currency+num.toFormattedString(decimals);\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoRaw: function(formattedData) {\r\n\t\t\t\t\t\tvar z =FL.common.currencyToStringNumber(formattedData); \r\n\t\t\t\t\t\treturn FL.common.currencyToStringNumber(formattedData);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\t\t\r\n\t\t\t\tvar currencyCell = Backgrid.StringCell.extend({\r\n\t\t\t\t    className: \"_fl_numeric-cell\",\r\n\t\t\t\t    formatter: currencyFormatter,\r\n\t\t\t\t    editor: CurrencyCellEditor,\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tretObj[\"cell\"] = currencyCell;\t\t\t\t\r\n\t\t\t}else if(typeUI ==\"integerbox\"){//http://backbone-paginator.github.io/backbone.paginator/examples/js/extensions/text-cell/backgrid-text-cell.js\r\n\t\t\t\tvar integerFormatter = {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\tvar num = Number(rawValue);\r\n\t\t\t\t\t\t// var numStr = accounting.formatMoney(num,\"€\",2,FL.common.appsettings.thousandsSeparator,FL.common.appsettings.radixpoint);\r\n\t\t\t\t\t\t// return numStr;\r\n\t\t\t\t\t\treturn num.toFormattedString(0);\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoRaw: function(formattedData) {\r\n\t\t\t\t\t\tvar z =FL.common.currencyToStringNumber(formattedData); \r\n\t\t\t\t\t\treturn FL.common.currencyToStringNumber(formattedData);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\t\t\r\n\t\t\t\tvar integerCell = Backgrid.StringCell.extend({\r\n\t\t\t\t    className: \"_fl_integer-cell\",\r\n\t\t\t\t    formatter: integerFormatter,\r\n\t\t\t\t    editor: IntegerCellEditor,\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tretObj[\"cell\"] = integerCell;\r\n\t\t\t}else if(typeUI ==\"percentbox\"){//http://backbone-paginator.github.io/backbone.paginator/examples/js/extensions/text-cell/backgrid-text-cell.js\r\n\t\t\t\t// var decimals =  4;\r\n\t\t\t\t// NumberCellEditor.prototype.decimals = decimals;\r\n\t\t\t\t// var currency = \"€\";\r\n\t\t\t\tPercentCellEditor.prototype.decimals = decimals;\r\n\t\t\t\t// PercentCellEditor.prototype.currency = currency;\r\n\t\t\t\tvar percentFormatter = {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\tvar num = Number(rawValue);\r\n\t\t\t\t\t\t// var numStr = accounting.formatMoney(num,\"€\",2,FL.common.appsettings.thousandsSeparator,FL.common.appsettings.radixpoint);\r\n\t\t\t\t\t\t// return numStr;\r\n\t\t\t\t\t\treturn num.toFormattedString(decimals)+\"%\";\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoRaw: function(formattedData) {\r\n\t\t\t\t\t\tvar z =FL.common.currencyToStringNumber(formattedData); \r\n\t\t\t\t\t\treturn FL.common.currencyToStringNumber(formattedData);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\t\t\r\n\t\t\t\tvar percentCell = Backgrid.StringCell.extend({\r\n\t\t\t\t    className: \"_fl_percent-cell\",\r\n\t\t\t\t    formatter: percentFormatter,\r\n\t\t\t\t    editor: PercentCellEditor,\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tretObj[\"cell\"] = percentCell;\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t}else if(typeUI ==\"urlbox\"){//http://backbone-paginator.github.io/backbone.paginator/examples/js/extensions/text-cell/backgrid-text-cell.js\r\n\t\t\t\tretObj[\"cell\"] = \"uri\";\t\r\n\t\t\t}else if(typeUI ==\"areabox\"){//http://backbone-paginator.github.io/backbone.paginator/examples/js/extensions/text-cell/backgrid-text-cell.js\r\n\t\t\t\tretObj[\"cell\"] = \"text\";\t\r\n\t\t\t}else if(typeUI ==\"combobox\"){\r\n\t\t\t\tvar enumArrOfArr = _.map(enumerable, function(element){ return [element,element]; });\r\n\t\t\t\tvar comboCell = Backgrid.SelectCell.extend({\r\n     \t\t\t\t// It's possible to render an option group or use a\r\n      \t\t\t\t// function to provide option values too.\r\n\t\t\t      \t// optionValues: [[\"Male\", \"m\"], [\"Female\", \"f\"]]\r\n\t\t\t      \toptionValues:enumArrOfArr\r\n\t\t\t    });\r\n\t\t\t    retObj[\"cell\"] = comboCell;\r\n\t\t\t}else if(typeUI ==\"checkbox\"){\r\n\t\t\t\tvar BooleanCell = Backgrid.BooleanCell.extend({\r\n\t\t\t    \teditor: Backgrid.BooleanCellEditor.extend({\r\n\t\t\t\t        render: function () {\r\n\t\t\t\t            var model = this.model;\r\n\t\t\t\t            var columnName = this.column.get(\"name\");\r\n\t\t\t\t            var val = this.formatter.fromRaw(model.get(columnName), model);\r\n\t\t\t\t            /*\r\n\t\t\t\t             * Toggle checked property since a click is what triggered enterEditMode\r\n\t\t\t\t            */\r\n\t\t\t\t            this.$el.prop(\"checked\", !val);\r\n\t\t\t\t            model.set(columnName, !val);\r\n\t\t\t\t            return this;\r\n\t\t\t\t        }\r\n\t\t\t    \t})\r\n\t\t\t\t});\r\n\t\t\t\tretObj[\"cell\"] = BooleanCell;\t\t    \r\n\t\t\t}else if(typeUI ==\"phonebox\"){\r\n\t\t\t\tvar z=\"JOJO\";\t\t\r\n\t\t\t\tPhoneCellEditor.prototype.z = z;\r\n\t\t\t\tvar phoneCell = Backgrid.Cell.extend({\r\n\t\t\t\t\t//z:\"JOJO\",\r\n\t\t\t\t\tinitialize: function (options) {\r\n\t\t\t\t\t\t// alert(this.options.z);\r\n\t\t\t\t\t\tphoneCell.__super__.initialize.apply(this, arguments);\r\n\t\t\t\t\t\tthis.listenTo(this.model, \"backgrid:editing\", function(model,column,command){\r\n\t\t\t\t\t\t\tconsole.log(\"editing !!!!!!!!!!!!! ->\"+JSON.stringify( model.toJSON() ) );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.model.on('change', function(){\r\n              \t\t\t\tconsole.log(\"model change !!!!\");\r\n           \t\t\t\t});\t\t\t\t\t\t\r\n\t\t\t\t\t\t// this.listenTo(this.model, \"backgrid:error\", function(model,column,command){\r\n\t\t\t\t\t\t// \talert(\"error !!!!!!!!!!!!! ->\");\r\n\t\t\t\t\t\t// });\t\t\t\t\t\t\r\n\t\t\t  \t\t},\t\t\t\t\r\n\t\t\t\t\teditor: PhoneCellEditor,\r\n\t\t\t\t\txrender: function(){\r\n\t\t\t\t\t\t //this.$el.html(this.template(this.model.attributes));\r\n\t\t\t\t\t\tconsole.log(\"render-->\"+this.$el.val());\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tvar formatterObj = _.extend({}, Backgrid.CellFormatter.prototype, {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\t// if ( !validatePhone2(rawValue) )\r\n\t\t\t\t\t\t// \trawValue = \"Invalid phone\";\r\n\t\t\t\t\t\tconsole.log(\"fromRaw------------------>\"+rawValue);\r\n\t\t\t\t\t\treturn rawValue;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoRaw: function (formattedData) {\r\n\t\t\t\t\t\t// if ( !FL.common.is_ValidDate(formattedData) )\r\n\t\t\t\t\t\t// \treturn undefined;\r\n\t\t\t\t\t\tconsole.log(\"toRaw-->\"+formattedData);\r\n\t\t\t\t\t\treturn formattedData; //+ \"X\";\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t});\t\t\t\t\r\n\t\t\t\tretObj[\"cell\"] =phoneCell;\t\t\r\n\t\t\t\tretObj[\"formatter\"] = formatterObj;\t\t\t\r\n\t\t\t}else if(typeUI ==\"datetimebox\"){\r\n\t\t\t\tvar DateCell = Backgrid.Cell.extend({\r\n\t\t\t\t\tinitialize: function (options) {\r\n\t\t\t\t\t\tDateCell.__super__.initialize.apply(this, arguments);\r\n\t\t\t\t\t\tthis.model.on('change', function(e){\r\n               \t\t\t\tconsole.log(\" datetime model change !!!! ----->\"+JSON.stringify( this.model.toJSON() ) );\r\n           \t\t\t\t},this);\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t  \t\t},\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\teditor: DateTimeCellEditor,\r\n\t\t\t\t});\r\n\t\t\t\tvar formatterObj = _.extend({}, Backgrid.CellFormatter.prototype, {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\tvar initial = rawValue;\r\n\t\t\t\t\t\trawValue = FL.common.fromISODateToShortdateTime(rawValue,setDateformat().format);\r\n\t\t\t\t\t\tif ( !rawValue)\r\n\t\t\t\t\t\t\trawValue = \"Invalid Datetime\";\r\n\t\t\t\t\t\tconsole.log(\"fromRaw  transformed:\"+initial+ \" into -->\"+rawValue);\r\n\t\t\t\t\t\treturn rawValue;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoRaw: function (formattedData) {\r\n\t\t\t\t\t\tvar initial = formattedData;\r\n\t\t\t\t\t\tif ( validateDatetime(formattedData) ){\r\n\t\t\t\t\t\t\tformattedData = FL.common.toISODate(formattedData,setDateformat().format);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn \"invalid datetime\";\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(\"toRaw  transformed:\"+initial+ \" into -->\"+formattedData);\r\n\t\t\t\t\t\treturn formattedData; //+ \"X\";\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t});\t\t\t\t\r\n\t\t\t\tretObj[\"cell\"] = DateCell;\t\t\r\n\t\t\t\tretObj[\"formatter\"] = formatterObj;\t\r\n\t\t\t}else if(typeUI ==\"emailbox\"){\r\n\t\t\t\tvar EmailCell = Backgrid.EmailCell.extend({\r\n\t\t\t\t\tclassName: \"email-cell\",\r\n\t\t\t\t\trender: function () {\r\n\t\t\t\t\t\tthis.$el.empty();\r\n\t\t\t\t\t\tvar formattedValue = this.formatter.fromRaw(this.model.get(this.column.get(\"name\")));\r\n\t\t\t\t\t\tthis.$el.append($(\"<a>\", {\r\n\t\t\t\t\t\t\ttabIndex: -1,\r\n\t\t\t\t\t\t\ttitle: formattedValue\r\n\t\t\t\t\t\t}).text(formattedValue));\r\n\t\t\t\t\t\tthis.delegateEvents();\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tvar formatterObj = _.extend({}, Backgrid.CellFormatter.prototype, {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\tif ( !FL.common.validateEmail(rawValue) )\r\n\t\t\t\t\t\t\trawValue = \"Invalid email\";\r\n\t\t\t\t\t\treturn rawValue;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoRaw: function (formattedData) {\r\n\t\t\t\t\t\tif ( !FL.common.validateEmail(formattedData) )\r\n\t\t\t\t\t\t\treturn undefined;\r\n\t\t\t\t\t\treturn formattedData; //+ \"X\";\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tretObj[\"cell\"] = EmailCell;\t\t\r\n\t\t\t\tretObj[\"formatter\"] = formatterObj;\r\n\t\t\t}else if(typeUI ==\"xsearchbox\"){\r\n\t\t\t\tvar xSearchCell = Backgrid.Cell.extend({\r\n\t\t\t\t\tclassName: \"search-cell\",\r\n\t\t\t\t\tinitialize: function (options) {\r\n\t\t\t\t\t\txSearchCell.__super__.initialize.apply(this, arguments);\t\t\t\t\r\n\t\t\t  \t\t},\t\t\t\t\r\n\t\t\t\t\teditor: xSearchCellEditor,//PhoneCellEditor,\r\n\t\t\t\t\txrender: function(){\r\n\t\t\t\t\t\tconsole.log(\"render-->\"+this.$el.val());\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tvar formatterObj = _.extend({}, Backgrid.CellFormatter.prototype, {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\tconsole.log(\"fromRaw------------------>\"+rawValue);\r\n\t\t\t\t\t\treturn rawValue;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoRaw: function (formattedData) {\r\n\t\t\t\t\t\tconsole.log(\"toRaw-->\"+formattedData);\r\n\t\t\t\t\t\treturn formattedData; //+ \"X\";\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t});\t\t\t\t\r\n\t\t\t\tretObj[\"cell\"] = xSearchCell;\t\t\r\n\t\t\t\tretObj[\"formatter\"] = formatterObj;\t\r\n\t\t\t}else if(typeUI ==\"lookupbox\"){\r\n\t\t\t\t// var lookupCell = Backgrid.Extension.AutocompleteCell.extend({\r\n\t\t\t\t// \trender: function(){\r\n\t\t\t\t// \t\tconsole.log(\"lookup render-->\"+this.$el.val());\r\n\t\t\t\t// \t\treturn this;\r\n\t\t\t\t// \t}\t\r\n\t\t\t\t// )};\t\r\n\t\t\t\tvar formatterObj = _.extend({}, Backgrid.CellFormatter.prototype, {\r\n\t\t\t\t\tfromRaw: function (rawValue) {\r\n\t\t\t\t\t\tconsole.log(\"fromRaw------------------>\"+rawValue);\r\n\t\t\t\t\t\treturn rawValue + \"_In\";\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoRaw: function (formattedData) {\r\n\t\t\t\t\t\talert(\"searchbox toRaw-->\"+formattedData);\r\n\t\t\t\t\t\treturn formattedData + \"_Out\";\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t});\t\r\n\t\t\t\tretObj[\"cell\"] = Backgrid.Extension.AutocompleteCell;\r\n\t\t\t\t// retObj[\"cell\"] = lookupCell;// Backgrid.Extension.AutocompleteCell;\r\n\t\t\t\tretObj[\"autocompleteUrl\"] = \"/names\";\r\n\t\t\t\tretObj[\"minTermLength\"] = 3;\r\n\t\t\t\tretObj[\"labelProperty\"] = \"name\";\r\n\t\t\t\tretObj[\"formatter\"] = formatterObj;\t\r\n\t\t\t}else if(typeUI ==\"urllbox\"){\t\r\n\t\t\t\tretObj[\"cell\"] = \"uri\";\r\n\t\t\t}else{\r\n\t\t\t\talert(\"FL.bg cellType error unknown typeUI !!!-->\" + typeUI );\r\n\t\t\t}\t\r\n\t\t}\r\n\t\treturn retObj;\r\n\t};\r\n\treturn{\r\n\t\tdateFormat:\"MDY\",//possible values:\"YMD\",\"MDY\",\"DMY\"\r\n\t\t// colDef: function(name,label,nesting,width,type,enumerable) {\r\n\t\tcolDef: function(gridDefinition,field) {\r\n\t\t\t//colDef will receive two type of data:\r\n\t\t\t//\t grid definition data - label, nestingArr, width\r\n\t\t\t//\t field dictionary data  - name, typeUI, enumerable, decimals\r\n\t\t\t//name - The key of the model attribute\r\n\t\t\t//label - The name to display in the header\r\n\t\t\t//nesting - default is [], -->one title above [\"General\"], -->2 titles above  [\"General\", \"Detail\"]\r\n\t\t\t//type ->\"string\",\"integer\",\"number\",\"date\",\"uri\",\"stringUpper\",\"email\",\"area\",\"phone\",\"datetime\"\r\n\t\t\t// Old Examples\r\n\t\t\t//\t   FL.bg.colDef(\"name\",\"Name JO\",[\"General JO\"],\"*\",\"datetime\"),\r\n    \t\t//     FL.bg.colDef(\"pop\",\"Population JO\", [\"Custom\",\"numbers\"],20,\"integer\"),\r\n    \t\t//     FL.bg.colDef(\"percentage\",\"% of World Population JO\",[\"Custom\", \"numbers\"],100,\"number\"),\r\n\t\t\t\r\n\t\t\t// var retObj = {name:name,label:label,nesting:nesting,width:width,resizeable:true,orderable:true};\r\n\t\t\tvar retObj = {name:field.name,label:gridDefinition.label, nesting:gridDefinition.nesting, width:gridDefinition.width, resizeable:true,orderable:true};\r\n\t\t\t_.extend(retObj,cellType(field.typeUI, field.enumerable,FL.common.appsettings.decimals,FL.common.appsettings.currency));\r\n\t\t\treturn retObj;\r\n\t\t},\r\n\t\tgetGridDefaultLayout: function(eCN) {//returns an object {baseTable:eCN,format:[array of objects defining each column]}\r\n\t\t\t// the array of objects returned in getGridDefaultLayout().format can be produced by a grid designer\r\n\t\t\t// returns an array of {fCN:fCN,label:label,width:\"*\",nestingArr:nestingArr,type:\"field\"} with as many elements as attributres in data dictionary\r\n\t\t\t//  where for column i:\r\n\t\t\t//    fCN - field compressed name to present in column i\r\n\t\t\t//    label - column title\r\n\t\t\t//    width - column width\r\n\t\t\t//ex : var gridLayout = FL.bg.getGridDefaultLayout(eCN);\r\n\t\t\tvar layoutObj= null;\r\n\t\t\tvar gridFormat = [];\r\n\t\t\t// var colDefinition = {fCN:null,label:null,width:\"*\",nestingArr:[]};\r\n\t\t\tvar entityName = FL.dd.getEntityByCName(eCN);\r\n\t\t\tif(entityName){\r\n\t\t\t\tvar oEntity = FL.dd.getEntityBySingular(entityName);\r\n\t\t\t\tvar arrOfAttributes = oEntity.attributes;\r\n\t\t\t\tvar L2C = oEntity.L2C;\r\n\t\t\t\t_.each(arrOfAttributes, function(element,index){\r\n\t\t\t\t\tif(element.name !=\"id\"){\r\n\t\t\t\t\t\tvar fCN = L2C[element.name];//element.name;\r\n\t\t\t\t\t\tvar label =element.label;\r\n\t\t\t\t\t\tvar nestingArr = [];\r\n\t\t\t\t\t\tvar colDefinition = {fCN:fCN,label:label,width:\"*\",nestingArr:nestingArr};\r\n\t\t\t\t\t\tgridFormat.push(colDefinition);\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t},this);\r\n\t\t\t\tlayoutObj = {\"baseTable\":eCN,\"format\":gridFormat};\t\t\r\n\t\t\t}else{\r\n\t\t\t\talert(\"FL.bg.getGridDefaultDefinition Error: entity with compressed name='\"+ eCN +\"' does not exist in local Dictionary.\");\r\n\t\t\t}\r\n\t\t\treturn layoutObj;\r\n\t\t},\r\n\t\tXsetupGridColumnsArr: function(oLayout) {//returns the columnArr to be used in utils.mountGridInCsvStore\r\n\t\t\t// ex: var columnsArr = FL.bg.setupGridColumnsArr(gridLayout);\r\n\t\t\tFL.dd.init_t();//to init the temporary subsystem\r\n\t\t\tvar exitToPrepare = true;\r\n\t\t\tvar tryFirstLookup = true;\r\n\t\t\tvar thiz = this;\r\n\t\t\tconsole.log(\"setupGridColumnsArr ----------------------------------------------------------\");\r\n\t\t\t_.each(oLayout.format, function(element){//each element of oLayout.format array is like {fCN:\"50\",\"1st Column\",width:20,nestingArr:[]}\r\n\t\t\t\tvar field = FL.dd.t.entities[oLayout.baseTable].fields[element.fCN];\r\n\t\t\t\tconsole.log(\"setupGridfieldumnsArr --> field name=\"+field.name+ \" typeUI=\"+field.typeUI);\r\n\t\t\t\tif(true && field.typeUI == \"lookupbox\" && tryFirstLookup) {\r\n\t\t\t\t\texitToPrepare = false;\r\n\t\t\t\t\ttryFirstLookup = false;\r\n\t\t\t\t\talert(\"lookup !!! ->\" + JSON.stringify(field));// + \"\\n gridDefinition ->\" + JSON.stringify(gridDefinition));\r\n\t\t\t\t\tvar eCN= \"6A\";//field.specialTypeDef.eCN;\r\n\t\t\t\t\talert(\"eCN=\"+eCN);\r\n\t\t\t\t\tvar openPromise = FL.API.openTable(\"6A\");\r\n\t\t\t\t\topenPromise.done(function(dataArray){\r\n\t\t\t\t\t\tFL.common.printToConsole(\">>>>>setupGridColumnsArr openPromise SUCCESS <<<<< \",\"API\");\r\n\t\t\t\t\t\tvar columnsArr = thiz.prepareGridColumnsArr(oLayout,dataArray);\r\n\t\t\t\t\t\treturn columnsArr;\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\topenPromise.fail(function(err){FL.common.printToConsole(\">>>>>setupGridColumnsArr openTable FAILURE <<<<<\"+err,\"API\");def.reject(err);});\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(exitToPrepare){\r\n\t\t\t\tvar columnsArr = this.prepareGridColumnsArr(oLayout);\r\n\t\t\t\treturn columnsArr;//each element of columnsArr array is like {cell:\"string\",label:\"a\",name:\"a\"...eventually others}\r\n\t\t\t};\t\r\n\t\t},\r\n\t\tsetupGridColumnsArr: function(oLayout,lookupData) {//returns the columnArr to be used in utils.mountGridInCsvStore\r\n\t\t\t// ex: var columnsArr = FL.bg.setupGridColumnsArr(gridLayout);\r\n\t\t\tvar columnsArr = [];\r\n\t\t\tif(lookupData){\r\n\t\t\t\talert(\"prepareGridColumnsArr lookup !!! ->\" + JSON.stringify(lookupData));\r\n\t\t\t}\r\n\t\t\t// FL.dd.init_t();//to init the temporary subsystem\r\n\t\t\t// var arrOfFieldsObj = FL.dd.t.entities[oLayout.baseTable].fieldsList();\r\n\t\t\t_.each(oLayout.format, function(element,index){//each element of oLayout.format array is like {fCN:\"50\",\"1st Column\",width:20,nestingArr:[]}\r\n\t\t\t\tconsole.log(element.fCN);\r\n\t\t\t\t// var name = FL.dd.t.entities[oLayout.baseTable].fields[element.fCN].name;\r\n\t\t\t\t// var typeUI = FL.dd.t.entities[oLayout.baseTable].fields[element.fCN].typeUI;\r\n\t\t\t\t// var enumerable = FL.dd.t.entities[oLayout.baseTable].fields[element.fCN].enumerable;\r\n\t\t\t\t// var ddFieldDefinition = {name:name,typeUI:typeUI,enumerable:enumerable};\r\n\t\t\t\tvar gridDefinition = {label:element.label, nestingArr:element.nestingArr, width:element.width};\r\n\t\t\t\t//var arrElObj = FL.bg.colDef(name,element.label,element.nestingArr,element.width,typeUI,enumerable);\r\n\t\t\t\tvar field = FL.dd.t.entities[oLayout.baseTable].fields[element.fCN];\r\n\t\t\t\t// if(field.typeUI == \"lookupbox\") {\r\n\t\t\t\t// \talert(\"lookup !!! ->\" + JSON.stringify(field) + \"\\n gridDefinition ->\" + JSON.stringify(gridDefinition));\r\n\t\t\t\t// \t//FL.API.openTable(\"6A\")\r\n\r\n\t\t\t\t// }\r\n\t\t\t\tvar arrElObj = FL.bg.colDef(gridDefinition,field);\r\n\t\t\t\tarrElObj = _.omit(arrElObj,[\"nesting\",\"orderable\",\"resizeable\",\"width\"]);//temporary while these propoerties are inactive\r\n\t\t\t\tcolumnsArr.push(arrElObj);\t\r\n\t\t\t},this);\r\n\t\t\t//inserts auxiliary columns upfront\r\n\t\t\tcolumnsArr.unshift( { name:\"\",cell:\"select-row\",headerCell: \"select-all\"}, { editable:false,label:\"#\",name:\"id\",cell:Backgrid.IntegerCell.extend({ orderSeparator: '' }) } );\r\n\t\t\treturn columnsArr;//each element of columnsArr array is like {cell:\"string\",label:\"a\",name:\"a\"...eventually others}\r\n\t\t},\t\t\r\n\t\ttestFunc: function(x) {\r\n\t\t\treturn \"FL.bg.test() -->\"+x;\r\n\t\t}\r\n\t};\r\n})();"]}