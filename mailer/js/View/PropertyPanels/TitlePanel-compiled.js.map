{"version":3,"sources":["TitlePanel.js"],"names":[],"mappings":";;AAAA,cAAc,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;AACtD,gBAAe,EAAG,IAAI;AACtB,gBAAe,EAAG,IAAI;AACtB,QAAO,EAAG,IAAI;AACd,oBAAmB,EAAG,IAAI;AAC1B,WAAU,EAAG,IAAI;AACjB,YAAW,EAAG,IAAI;;AAElB,WAAU,EAAG,sBAAU;AACtB,MAAI,CAAC,eAAe,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC;AAC3C,MAAI,CAAC,WAAW,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC;AACnC,MAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;;AAExB,MAAI,CAAC,UAAU,GAAG,IAAI,cAAc,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAC,EAAE,EAAG,WAAW,EAAC,CAAC,CAAC;AACxE,UAAQ,CAAC,SAAS,GAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,KAAK,CAAC,CAAC;EACnD;;AAED,OAAM,EAAG,kBAAU;AAClB,MAAI,CAAC,YAAY,EAAE,CAAC;EACpB;AACD,KAAI,EAAG,gBAAU;;AAEhB,MAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;AACxB,MAAI,CAAC,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACpE,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAC,cAAc,CAAC,KAAK,CAAC,QAAQ,CAAC,sBAAsB,EAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;AAChH,MAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;EACjC;AACD,MAAK,EAAE,iBAAU;AAChB,MAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;EAChC;AACD,KAAI,EAAE,gBAAU;AACf,MAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;AACxB,MAAI,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EACpC;AACD,aAAY,EAAG,wBAAU;AACxB,MAAI,IAAI,GAAG,IAAI,CAAC;AAChB,UAAQ,CAAC,OAAO,CAAE,WAAW,CAAE,CAAC;AAChC,UAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAW;AACvD,OAAI,CAAC,qBAAqB,EAAE,CAAC;GAC7B,CAAC,CAAC;EACH;AACD,sBAAqB,EAAG,iCAAU;AACjC,MAAI,CAAC,IAAI,CAAC,mBAAmB,EAC7B;AACC,OAAI,IAAI,GAAG,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,CAAC;AACrD,OAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EACvB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;GAC7B;EAED;AACD,YAAW,EAAG,qBAAS,KAAK,EAAC;AAC5B,MAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AACrB,UAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;AAC1D,MAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC,CAAC;EAC3D;AACD,uBAAsB,EAAG,gCAAS,IAAI,EAAC;AACtC,MAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;EAEpC;CACD,CAAC,CAAA","file":"TitlePanel-compiled.js","sourcesContent":["MailerTemplate.Views.TitlePanel = Backbone.View.extend({\r\n\tm_titleTemplate : null,\r\n\tm_propertyPanel : null,\r\n\tm_Model : null,\r\n\tbSupressChangeEvent : true,\r\n\tm_styleTab : null,\r\n\tm_titleBody : null,\r\n\t\r\n\tinitialize : function(){\r\n\t\tthis.m_propertyPanel = $(\"#propertyPanel\");\r\n\t\tthis.m_titleBody = $(\"#titleBody\");\r\n\t\tthis.m_titleBody.show();\r\n\t\t\r\n\t\tthis.m_styleTab = new MailerTemplate.Views.StyleTab({el : \"#styletab\"});\r\n\t\tCKEDITOR.timestamp=Math.round(Math.random()*10000);\r\n\t},\r\n\t\r\n\trender : function(){\r\n\t\tthis.initCkEditor();\r\n\t},\r\n\tshow : function(){\r\n\t\t//this.render();\r\n\t\tthis.m_titleBody.show();\r\n\t\tthis.m_styleTab.setTemplateType(MailerTemplate.TemplateItems.TITLE);\r\n\t\tthis.listenTo(this.m_styleTab,MailerTemplate.Views.StyleTab.STYLE_PROPERTY_CHANGED,this.OnStylePropertyChanged);\r\n\t\tthis.bSupressChangeEvent = false;\r\n\t},\r\n\tclear: function(){\r\n\t\tthis.bSupressChangeEvent = true;\r\n\t},\r\n\thide: function(){\r\n\t\tthis.m_titleBody.hide();\r\n\t\tthis.stopListening(this.m_styleTab);\r\n\t},\r\n\tinitCkEditor : function(){\r\n\t\tvar temp = this;\r\n\t\tCKEDITOR.replace( 'titleText' );\r\n\t\tCKEDITOR.instances[\"titleText\"].on('change', function() {\r\n\t\t\ttemp.onCKEditorChangeEvent();\r\n\t\t});\r\n\t},\r\n\tonCKEditorChangeEvent : function(){\r\n\t\tif (!this.bSupressChangeEvent)\r\n\t\t{\r\n\t\t\tvar data = CKEDITOR.instances[\"titleText\"].getData();\r\n\t\t\tif (this.m_Model != null)\r\n\t\t\t\tthis.m_Model.setTitle(data);\r\n\t\t}\r\n\r\n\t},\r\n\trenderModel : function(model){\r\n\t\tthis.m_Model = model;\r\n\t\tCKEDITOR.instances[\"titleText\"].setData(model.getTitle());\r\n\t\tthis.m_styleTab.setStyleProperty(model.getStyleProperty());\r\n\t},\r\n\tOnStylePropertyChanged : function(data){\r\n\t\tthis.m_Model.setStyleProperty(data);\r\n\r\n\t}\r\n})"]}