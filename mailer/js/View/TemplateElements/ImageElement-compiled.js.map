{"version":3,"sources":["ImageElement.js"],"names":[],"mappings":";;AAAA,cAAc,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;AACjD,cAAa,EAAG,IAAI;AACpB,QAAO,EAAG,IAAI;AACd,oBAAmB,EAAG,IAAI;AAC1B,eAAc,EAAG,IAAI;AACrB,eAAc,EAAG,IAAI;AACrB,OAAM,EAAG,IAAI;;AAEb,WAAU,EAAG,sBAAU;AACtB,MAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;AAC9B,MAAI,IAAI,GAAG,IAAI,CAAC;AAChB,GAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,UAAS,CAAC,EAAC,IAAI,EAAE;AAC5E,OAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,cAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;GACxE,CAAC,CAAC;AACH,MAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC3C,MAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;AACrD,MAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;EACjC;;AAED,UAAS,EAAG,mBAAS,MAAM,EAAC;AAC3B,MAAI,CAAC,aAAa,GAAG,MAAM,CAAC;AAC5B,MAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC;AACpC,GAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;EAC9B;AACD,SAAQ,EAAG,kBAAS,KAAK,EAAC;AACzB,MAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AACrB,MAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC;AACzC,MAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,CAAC;AAC1D,MAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC;AACxC,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AACtF,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;AAChG,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;AACpG,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;EACtF;AACD,oBAAmB,EAAG,6BAAS,MAAM,EAAC;AACrC,MAAI,IAAI,GAAG,IAAI,CAAC;AAChB,MAAI,IAAI,GAAG,MAAM,CAAC;AAClB,GAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAC,UAAS,CAAC,EAAC,IAAI,EAAC;AAC1C,OAAI,IAAI,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;AAC1C,OAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;AACvB,OAAI,IAAI,IAAI,YAAY,EACxB;AACC,QAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAC,KAAK,CAAC,CAAC;IACxC,MAED;AACC,QAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,EAAG,KAAK,CAAC,CAAC;IACtC;GACD,CAAC,CAAC;EACH;AACD,iBAAgB,EAAG,0BAAS,IAAI,EAAC;AAChC,MAAI,IAAI,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACnD,MAAI,IAAI,CAAC,QAAQ,IAAI,YAAY,EACjC;AACC,OAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC;GAC7C,MAED;AACC,OAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,EAAG,IAAI,CAAC,KAAK,CAAC,CAAC;GAC3C;EACD;AACD,WAAU,EAAG,oBAAS,IAAI,EAAC;AAC1B,MAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,CAAC;EAE9B;CACD,CAAC,CAAC","file":"ImageElement-compiled.js","sourcesContent":["MailerTemplate.Views.Image = Backbone.View.extend({\r\n\tm_ImageSource : null,\r\n\tm_Model : null,\r\n\tm_CssStyleConnector : null,\r\n\tm_ImageElement : null,\r\n\tm_previewBlock : null,\r\n\tm_Link : null,\r\n\t\r\n\tinitialize : function(){\r\n\t\tthis.m_CssStyleConnector = {};\r\n\t\tvar temp = this;\r\n\t\t$.each(Object.keys($(MailerTemplate.CssStyleConnector)[0]), function(i,item) {\r\n\t\t\ttemp.m_CssStyleConnector[item] = MailerTemplate.CssStyleConnector[item];\r\n\t\t});\r\n\t\tthis.m_ImageElement = this.$el.find(\"img\");\r\n\t\tthis.m_previewBlock = this.$el.find(\"#previewBlock\");\r\n\t\tthis.m_Link = this.$el.find(\"a\");\r\n\t},\r\n\t\r\n\tsetSource : function(source){\r\n\t\tthis.m_ImageSource = source;\r\n\t\tthis.m_ImageElement[0].src = source;\r\n\t\t$(this.m_previewBlock).hide();\r\n\t},\r\n\tsetModel : function(model){\r\n\t\tthis.m_Model = model;\r\n\t\tthis.setSource(this.m_Model.getSource());\r\n\t\tthis.setAllStyleProperty(this.m_Model.getStyleProperty());\r\n\t\tthis.updateLink(this.m_Model.getLink());\r\n\t\tthis.listenTo(this.m_Model, MailerTemplate.Models.Image.IMAGE_CHANGE, this.setSource);\r\n\t\tthis.listenTo(this.m_Model, MailerTemplate.Models.Image.PROPERTY_CHANGE, this.setStyleProperty);\r\n\t\tthis.listenTo(this.m_Model, MailerTemplate.Models.Image.STYLE_OBJ_CHANGE, this.setAllStyleProperty);\r\n\t\tthis.listenTo(this.m_Model, MailerTemplate.Models.Image.LINK_CHANGE, this.updateLink);\r\n\t},\r\n\tsetAllStyleProperty : function(styles){\r\n\t\tvar temp = this;\r\n\t\tvar data = styles;\r\n\t\t$.each(Object.keys(styles),function(i,item){\r\n\t\t\tvar prop = temp.m_CssStyleConnector[item];\r\n\t\t\tvar value = data[item];\r\n\t\t\tif (prop == \"imageAlign\")\r\n\t\t\t{\r\n\t\t\t\ttemp.m_ImageElement.attr(\"align\",value);\t\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\ttemp.m_ImageElement.css(prop , value);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tsetStyleProperty : function(data){\r\n\t\tvar prop = this.m_CssStyleConnector[data.property];\r\n\t\tif (data.property == \"imageAlign\")\r\n\t\t{\r\n\t\t\tthis.m_ImageElement.attr(\"align\",data.value);\t\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.m_ImageElement.css(prop , data.value);\r\n\t\t}\r\n\t},\r\n\tupdateLink : function(link){\r\n\t\tthis.m_Link.prop(\"href\",link);\r\n\t\t\r\n\t}\r\n});\r\n"]}