{"version":3,"sources":["MailerTemplate.js"],"names":[],"mappings":"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","file":"MailerTemplate-compiled.js","sourcesContent":["var mainView;\r\nvar designView;\r\n$(document).ready(function(){\r\n\t// alert(\"MailerTemplate.js entry point\");\r\n\t$(\"#templates\").load(\"HBTemplate.html\",OnTemplatesLoaded);\r\n});\r\n\r\nfunction OnTemplatesLoaded()\r\n{\r\n\t// --------------------code to connect to Framelink Database --------------------\r\n\t// alert(\"MailerTemplate.js ->begins connection with FrameLink\");\r\n\tFL.API.debug = false;\r\n\tFL.API.debugFiltersToShow = [\"API\",\"checkServerCall\"];\r\n\tFL.API.fl.setTraceClient(2);\r\n\r\n\tvar promise=FL.API.getFLContextFromBrowserLocationBar();\r\n\tpromise.done(function(data){\r\n\t\tFL.common.printToConsole(\"MailerTemplate.js OnTemplatesLoaded ->getFLContextFromBrowserLocationBar SUCCESS <<<<< \");\r\n\t\tvar loadAppPromise=FL.API.loadAppDataForSignInUser2();//gets data dictionary + main menu + style + fontFamily + home page\r\n\t\tloadAppPromise.done(function(menuData,homeHTML){\r\n\t\t\tFL.common.printToConsole(\"appSetup ---> homeHTML=\" + homeHTML);\r\n\t\t\tFL.common.printToConsole(\"appSetup ---> menudata=\" + JSON.stringify(menuData));\r\n\t\t\tvar templatePromise=FL.API.createTemplates_ifNotExisting();\r\n\t\t\ttemplatePromise.done(function(){\r\n\t\t\t\tinstantiateMainView();//Kartik code originally the only code in OnTemplatesLoaded()\r\n\t\t\t\treturn;\r\n\t\t\t});\r\n\t\t\ttemplatePromise.fail(function(err){\r\n\t\t\t\talert(\"MailerTemplate.js after getFLContextFromBrowserLocationBar ->FAILURE with createTemplates_ifNotExisting err=\"+err);\r\n\t\t\t\treturn;\r\n\t\t\t});\r\n\t\t});\r\n\t\tloadAppPromise.fail(function(err){\r\n\t\t\talert(\"MailerTemplate.js OnTemplatesLoaded  --> loginAccess appSetup FAILURE in loadAppDataForSignInUser2 <<<<< error=\"+err);\r\n\t\t\t// return loginAccessCB(err,loginObject);\r\n\t\t\treturn def.reject(\"MailerTemplate.js OnTemplatesLoaded  --> loginAccess appSetup FAILURE in loadAppDataForSignInUser2 <<<<< error=\"+err);\r\n\t\t});\r\n\t});\r\n\tpromise.fail(function(err){alert(\"MailerTemplate.js OnTemplatesLoaded  getFLContextFromBrowserLocationBar FAILURE <<<<<\"+err);return;});\r\n\t// --------------------END OF code to connect to Framelink Database -------------\r\n}\r\nfunction instantiateMainView(){\r\n\t//--------------- Kartik code -----------------------------------------------\r\n\t$(\"#sidebar-wrapper,#page-content-wrapper\").css({\"height\":window.innerHeight});\r\n\tmainView = new MailerTemplate.Views.MainView({el : \"#wrapper\"});\r\n\t$('#sidebar-wrapper ul:first li label').click(function(){\r\n\t\tif($(this).text().trim() === \"Content\"){\r\n\t\t\t$('#templateDesign').css(\"display\",\"none\");\r\n\t\t\t$('#templateItems').css(\"display\",\"block\");\r\n\t\t}else{\r\n\t\t\t$('#templateItems').css(\"display\",\"none\");\r\n\t\t\t$('#templateDesign').css(\"display\",\"block\");\r\n\t\t}\r\n\t});\r\n\t$('#templateDesign').css(\"display\",\"none\");\r\n\t//--------------------------------------------------------------------\r\n}\r\nwindow.onbeforeunload = function (e) {//works for close tab - and for close browser because:\r\n\te = e || window.event;\r\n\tif (e) {\r\n\t\tFL.common.printToConsole(\"xxx disconnect here\");\r\n\t\t// FL.server.disconnect();\r\n\t\te.returnValue = 'test returnValue...';\r\n\t}\r\n\treturn 'You are exiting FrameLink newsletterpage editor...';\r\n};\r\nArray.prototype.remove = function() {\r\n\tvar what, a = arguments, L = a.length, ax;\r\n\twhile (L && this.length) {\r\n\t\twhat = a[--L];\r\n\t\twhile ((ax = this.indexOf(what)) !== -1) {\r\n\t\t\tthis.splice(ax, 1);\r\n\t\t}\r\n\t}\r\n\treturn this;\r\n};"]}