{"version":3,"sources":["main_view.js"],"names":[],"mappings":"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","file":"main_view-compiled.js","sourcesContent":["FormDesigner.Views.MainView = Backbone.View.extend({\r\n    entityModel : null,\r\n    entityTemplate : null,\r\n    entitiesDropDown : null,\r\n    fieldsTemplate : null,\r\n    \r\n    initialize: function(){\r\n        this.m_Editor = new FormDesigner.Views.ElementHolder({el : \"body\"});\r\n        \r\n        this.setEntityModel(new FormDesigner.Models.EntityModel());\r\n        this.entityTempalate = Handlebars.compile($(\"#entityOption\").html() );\r\n        this.fieldsTempalate = Handlebars.compile($(\"#fieldsOption\").html() );\r\n        \r\n        this.entitiesDropDown = this.$(\"#entities .options\");\r\n        this.fieldsList = this.$(\"#fields\");\r\n        \r\n    },\r\n    events: {\r\n        \"click .option.entity\" : \"onEntityClick\",\r\n        \"click #save\" : \"saveBtnClick\",\r\n        \"click #load\" : \"loadJson\"\r\n    },\r\n    loadJson: function(){\r\n        $.getJSON(\"Sample.json\",(function(data){\r\n            this.addJsonData(data);\r\n        }).bind(this));\r\n    },\r\n    addJsonData: function(data){\r\n        this.m_Editor.loadJson(data);  \r\n    },\r\n    setEntityModel: function(entityModel){\r\n        this.entityModel = entityModel\r\n        this.listenTo(this.entityModel,\"change:entities\",this.onEntitiesLoaded.bind(this));\r\n    },\r\n    onEntitiesLoaded: function(){\r\n        console.log(this.entityModel.get(\"entities\"));\r\n        this.entitiesDropDown.html(this.entityTempalate({\"entities\" : this.entityModel.get(\"entities\")}));\r\n    },\r\n    onEntityClick: function(evt){\r\n        var entityId = $(evt.target).attr(\"entity_id\");\r\n        this.$(\".selectedOption\").text($(evt.target).html());\r\n        var fields = FL.dd.t.entities[entityId].fieldsList();\r\n        this.fieldsList.html(this.fieldsTempalate({\"fields\" : fields}));\r\n        this.m_Editor.setEntity(FL.dd.t.entities[entityId]);\r\n        this.m_Editor.bindDraggableObject();\r\n    },\r\n    saveBtnClick: function(){\r\n        \r\n        var formData = this.m_Editor.save();  \r\n        window.formData = formData;\r\n        window.open(\"formMaker.html\",\"_blank\");\r\n    },\r\n    loadJSON: function(data){\r\n        \r\n    },\r\n    loadEntities: function(){\r\n        this.entityModel.loadEntities();\r\n    }\r\n});"]}